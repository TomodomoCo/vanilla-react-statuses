!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("@tomodomo/vanilla-react-utils"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","@tomodomo/vanilla-react-utils","react-dom"],e):"object"==typeof exports?exports["@tomodomo/vanilla-react-statuses"]=e(require("react"),require("@tomodomo/vanilla-react-utils"),require("react-dom")):t["@tomodomo/vanilla-react-statuses"]=e(t.react,t["@tomodomo/vanilla-react-utils"],t["react-dom"])}(window,function(t,e,n){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=201)}([function(e,n){e.exports=t},function(t,e,n){t.exports=n(236)()},function(t,e,n){t.exports={default:n(204),__esModule:!0}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(207));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(121));e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(229)),o=a(n(233)),i=a(n(121));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,i.default)(e)));t.prototype=(0,o.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(148),o=n(150),i=n(33);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(149),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(78)("wks"),o=n(49),i=n(10).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPropsDecorator=e.defaultStyle=e.EnhancerProvider=e.createSubstyle=void 0;var r=s(n(171)),o=s(n(440)),i=s(n(442)),a=s(n(194));function s(t){return t&&t.__esModule?t:{default:t}}e.createSubstyle=r.default,e.EnhancerProvider=i.default,e.defaultStyle=o.default,e.defaultPropsDecorator=a.default,e.default=(0,o.default)()},function(t,e,n){var r=n(10),o=n(9),i=n(39),a=n(26),s=n(25),u=function(t,e,n){var c,l,f,p=t&u.F,d=t&u.G,h=t&u.S,v=t&u.P,m=t&u.B,y=t&u.W,g=d?o:o[e]||(o[e]={}),b=g.prototype,_=d?r:h?r[e]:(r[e]||{}).prototype;for(c in d&&(n=e),n)(l=!p&&_&&void 0!==_[c])&&s(g,c)||(f=l?_[c]:n[c],g[c]=d&&"function"!=typeof _[c]?n[c]:m&&l?i(f,r):y&&_[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[c]=f,t&u.R&&b&&!b[c]&&a(b,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,n){t.exports=e},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(21);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(32),o=n(304),i=n(305),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(18),o=n(120),i=n(80),a=Object.defineProperty;e.f=n(22)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(243)},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(245));e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,n){return function o(i,a){try{var s=e[i](a),u=s.value}catch(t){return void n(t)}if(!s.done)return r.default.resolve(u).then(function(t){o("next",t)},function(t){o("throw",t)});t(u)}("next")})}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(20),o=n(51);t.exports=n(22)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(320),o=n(323);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(99),o=n(100);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],l=i?i(n[c],t[c],c,n,t):void 0;void 0===l&&(l=t[c]),a?o(n,c,l):r(n,c,l)}return n}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(126),o=n(76);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(273),o=36e5,i=6e4,a=2,s=/[T ]/,u=/:/,c=/^(\d{2})$/,l=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],f=/^(\d{4})/,p=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,h=/^-?(\d{3})$/,v=/^-?(\d{2})-?(\d{2})$/,m=/^-?W(\d{2})$/,y=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,b=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,_=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,w=/^(Z)$/,O=/^([+-])(\d{2})$/,E=/^([+-])(\d{2}):?(\d{2})$/;function S(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}t.exports=function(t,e){if(r(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?a:Number(n);var j=function(t){var e,n={},r=t.split(s);if(u.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var o=x.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),C=function(t,e){var n,r=l[e],o=p[e];if(n=f.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=c.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}(j.date,n),A=C.year,P=function(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=d.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=h.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=v.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,o,s),r}if(n=m.exec(t))return i=parseInt(n[1],10)-1,S(e,i);if(n=y.exec(t)){i=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return S(e,i,u)}return null}(C.restDateString,A);if(P){var M,D=P.getTime(),T=0;return j.time&&(T=function(t){var e,n,r;if(e=g.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*o;if(e=b.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*o+r*i;if(e=_.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var a=parseFloat(e[3].replace(",","."));return n%24*o+r*i+1e3*a}return null}(j.time)),j.timezone?M=function(t){var e,n;return(e=w.exec(t))?0:(e=O.exec(t))?(n=60*parseInt(e[2],10),"+"===e[1]?-n:n):(e=E.exec(t))?(n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n):0}(j.timezone):(M=new Date(D+T).getTimezoneOffset(),M=new Date(D+T+M*i).getTimezoneOffset()),new Date(D+T+M*i)}return new Date(t)}},function(t,e,n){var r=n(11).Symbol;t.exports=r},function(t,e,n){var r=n(34),o=n(92);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(19),o=n(17),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==a||e==s||e==i||e==u}},function(t,e,n){var r=n(45),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,n){var r=n(63),o=n(95),i=n(353),a=n(71),s=n(28),u=n(360),c=n(107),l=n(161),f=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=a(e,t),c||(c=e.length>1),e}),s(t,l(t),n),c&&(n=o(n,7,u));for(var f=e.length;f--;)i(n,e[f]);return n});t.exports=f},function(t,e,n){var r=n(19),o=n(12),i="[object Number]";t.exports=function(t){return"number"==typeof t||o(t)&&r(t)==i}},function(t,e){t.exports=!0},function(t,e,n){var r=n(50);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(341),o=n(96),i=n(342),a=n(343),s=n(162),u=n(19),c=n(152),l=c(r),f=c(o),p=c(i),d=c(a),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(19),o=n(12),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,e,n){var r=n(19),o=n(103),i=n(12),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);t.exports=function(t){if(!i(t)||r(t)!=a)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=n},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(125),o=n(83);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(20).f,o=n(25),i=n(13)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLegacyActivitiesByPage=e.getModAccessOnActivities=void 0;var r=s(n(57)),o=s(n(23)),i=s(n(24));e.getModAccessOnActivities=function(){var t=(0,i.default)(o.default.mark(function t(){var e,n,r;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.getProfile)();case 2:return e=t.sent,n=e.userID,r="category."+u,t.abrupt("return",(0,a.getUserAccess)(n,{"comments.delete":r,"discussions.manage":r}));case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.getLegacyActivitiesByPage=function(){var t=(0,i.default)(o.default.mark(function t(e,n){var r,i;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.fetchJson)("/activity.json?Page=p"+e+"&expand=Comments",n);case 2:return r=t.sent,i=r.Activities?r.Activities.filter(function(t){return"Status"===t.ActivityType}):[],t.abrupt("return",i.map(function(t){var e=t.ActivityID,n=t.Photo,r=t.ActivityName,o=t.DateInserted,i=t.Story,a=t.InsertUserID,s=t.Comments;return{discussionID:e,dateInserted:o,body:i,categoryID:u,countComments:s.length,insertUser:{userID:a,name:r,photoUrl:n},isLegacy:!0,comments:s.map(function(t){var e=t.ActivityCommentID,n=t.Body,r=t.InsertName;return{commentID:e,insertUser:{photoUrl:t.InsertPhoto,name:r},body:n,dateInserted:t.DateInserted}})}}));case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();e.getActivitiesByPage=function(t,e){return(0,a.fetchJson)("/api/v2/discussions?categoryId="+u+"&expand=insertUser&page="+t,e)},e.getActivityById=function(t){return(0,a.fetchJson)("/api/v2/discussions/"+t)},e.postActivity=function(t){var e=t.text,n=t.apiVersion;if(2===(void 0===n?1:n))return(0,a.postData)({url:"/api/v2/discussions",data:{body:e,name:(0,a.truncateText)(e,20),format:"Markdown",categoryID:u}});return(0,a.postData)({url:"/api/v1/discussions/add",data:{Body:e,Name:(0,a.truncateText)(e,20),Format:"Markdown",CategoryID:u},resultFormat:e})},e.deleteActivityById=function(t){return(0,a.fetchJson)("/api/v2/discussions/"+t,{method:a.METHODS.DELETE})},e.updateDiscussionById=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.categoryID,o=e.body;if(!t||!n&&!o)throw new Error("not enough data to update the discussion");return(0,a.postData)({url:"/api/v2/discussions/"+t,data:(0,r.default)({},o?{body:o}:{},n?{categoryID:n}:{}),method:a.METHODS.PATCH})};var a=n(16);function s(t){return t&&t.__esModule?t:{default:t}}var u=window.tomodomo.config.ACTIVITY_CATEGORY_ID},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(266));e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){var r=n(271);t.exports=function(t,e){return r(Date.now(),t,e)}},function(t,e,n){var r=n(303),o=n(12),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(11),o=n(306),i="object"==typeof e&&e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;t.exports=u}).call(this,n(55)(t))},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var o=typeof t;return!!(e=null==e?n:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(65),o=n(315),i=n(316),a=n(317),s=n(318),u=n(319);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e,n){var r=n(310),o=n(311),i=n(312),a=n(313),s=n(314);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(42);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(27)(Object,"create");t.exports=r},function(t,e,n){var r=n(332);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(148),o=n(337),i=n(33);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(17),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(7),o=n(105),i=n(166),a=n(167);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e,n){var r=n(70),o=n(17);t.exports=function(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=r(t.prototype),i=t.apply(n,e);return o(i)?i:n}}},function(t,e,n){var r=n(309),o=n(8);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(110);t.exports=function(t,e){return r(t,e)}},function(t,e,n){var r=n(76);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(78)("keys"),o=n(49);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(9),o=n(10),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(38)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(21),o=n(10).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(21);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(18),o=n(214),i=n(83),a=n(77)("IE_PROTO"),s=function(){},u=function(){var t,e=n(79)("iframe"),r=i.length;for(e.style.display="none",n(128).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(13)},function(t,e,n){var r=n(10),o=n(9),i=n(38),a=n(84),s=n(20).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(50);t.exports.f=function(t){return new function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCommentsByActivityId=function(t,e){return(0,r.fetchJson)("/api/v2/comments?discussionID="+t+"&expand=insertUser&limit=9999",e)},e.deleteCommentById=function(t){return(0,r.fetchJson)("/api/v2/comments/"+t,{method:r.METHODS.DELETE})},e.postComment=function(t){var e=t.text,n=t.discussionID,o=t.apiVersion;if(2===(void 0===o?2:o))return(0,r.postData)({url:"/api/v2/comments",data:{body:e,format:"Markdown",discussionID:n}});return(0,r.postData)({url:"/api/v1/comments/add",data:{Body:e,Format:"Markdown",DiscussionID:n},resultFormat:e})};var r=n(16)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canUseDOM=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(294)).default,o=r.canUseDOM?window.HTMLElement:{};e.canUseDOM=r.canUseDOM;e.default=o},function(t,e,n){var r=n(307),o=n(93),i=n(94),a=i&&i.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(149),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(55)(t))},function(t,e,n){var r=n(64),o=n(98),i=n(99),a=n(154),s=n(336),u=n(155),c=n(43),l=n(339),f=n(340),p=n(159),d=n(161),h=n(44),v=n(344),m=n(345),y=n(165),g=n(7),b=n(60),_=n(349),x=n(17),w=n(351),O=n(8),E=1,S=2,j=4,C="[object Arguments]",A="[object Function]",P="[object GeneratorFunction]",M="[object Object]",D={};D[C]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object DataView]"]=D["[object Boolean]"]=D["[object Date]"]=D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Map]"]=D["[object Number]"]=D[M]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object Symbol]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Error]"]=D[A]=D["[object WeakMap]"]=!1,t.exports=function t(e,n,T,I,R,N){var k,L=n&E,U=n&S,F=n&j;if(T&&(k=R?T(e,I,R,N):T(e)),void 0!==k)return k;if(!x(e))return e;var W=g(e);if(W){if(k=v(e),!L)return c(e,k)}else{var q=h(e),B=q==A||q==P;if(b(e))return u(e,L);if(q==M||q==C||B&&!R){if(k=U||B?{}:y(e),!L)return U?f(e,s(k,e)):l(e,a(k,e))}else{if(!D[q])return R?e:{};k=m(e,q,L)}}N||(N=new r);var z=N.get(e);if(z)return z;if(N.set(e,k),w(e))return e.forEach(function(r){k.add(t(r,n,T,r,e,N))}),k;if(_(e))return e.forEach(function(r,o){k.set(o,t(r,n,T,o,e,N))}),k;var H=F?U?d:p:U?keysIn:O,$=W?void 0:H(e);return o($||e,function(r,o){$&&(r=e[o=r]),i(k,o,t(r,n,T,o,e,N))}),k}},function(t,e,n){var r=n(27)(n(11),"Map");t.exports=r},function(t,e,n){var r=n(324),o=n(331),i=n(333),a=n(334),s=n(335);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(100),o=n(42),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(153);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(156),o=n(157),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return i.call(t,e)}))}:o;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(151)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(163);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(7),o=n(45),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(71),o=n(35);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(361),o=n(168),i=n(109);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(364),o=n(169)(r);t.exports=o},function(t,e,n){var r=n(366),o=n(12);t.exports=function t(e,n,i,a,s){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,s))}},function(t,e){t.exports={}},function(t,e,n){var r=n(173),o=n(382),i=n(383),a=n(175),s=n(398),u=n(115),c=n(399),l=n(181),f=n(182),p=n(184),d="Expected a function",h=1,v=2,m=8,y=16,g=32,b=64,_=Math.max;t.exports=function(t,e,n,x,w,O,E,S){var j=e&v;if(!j&&"function"!=typeof t)throw new TypeError(d);var C=x?x.length:0;if(C||(e&=~(g|b),x=w=void 0),E=void 0===E?E:_(p(E),0),S=void 0===S?S:p(S),C-=w?w.length:0,e&b){var A=x,P=w;x=w=void 0}var M=j?void 0:u(t),D=[t,e,n,x,w,A,P,O,E,S];if(M&&c(D,M),t=D[0],e=D[1],n=D[2],x=D[3],w=D[4],!(S=D[9]=void 0===D[9]?j?0:t.length:_(D[9]-C,0))&&e&(m|y)&&(e&=~(m|y)),e&&e!=h)T=e==m||e==y?i(t,e,S):e!=g&&e!=(h|g)||w.length?a.apply(void 0,D):s(t,e,n,x);else var T=o(t,e,n);return f((M?r:l)(T,D),t,e)}},function(t,e,n){var r=n(70),o=n(114),i=4294967295;function a(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}a.prototype=r(o.prototype),a.prototype.constructor=a,t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(174),o=n(385),i=r?function(t){return r.get(t)}:o;t.exports=i},function(t,e,n){var r=n(70),o=n(114);function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}i.prototype=r(o.prototype),i.prototype.constructor=i,t.exports=i},function(t,e){var n="__lodash_placeholder__";t.exports=function(t,e){for(var r=-1,o=t.length,i=0,a=[];++r<o;){var s=t[r];s!==e&&s!==n||(t[r]=n,a[i++]=r)}return a}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextTypes=e.PropTypes=e.PROPS_DECORATOR_CONTEXT_NAME=e.ENHANCER_CONTEXT_NAME=void 0;var o=function(t){return t&&t.__esModule?t:{default:t}}(n(1));!function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);e.default=t}(n(0));function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=e.ENHANCER_CONTEXT_NAME="__substyle__enhancer",s=e.PROPS_DECORATOR_CONTEXT_NAME="__substyle__propsDecorator",u=o.default.oneOfType([o.default.func,o.default.object]),c=o.default.objectOf(o.default.string);e.PropTypes={style:u,className:o.default.string,classNames:c},e.ContextTypes=(i(r={},a,o.default.func),i(r,s,o.default.func),r)},function(t,e,n){var r=n(25),o=n(75),i=n(77)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){t.exports=!n(22)&&!n(29)(function(){return 7!=Object.defineProperty(n(79)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";e.__esModule=!0;var r=a(n(210)),o=a(n(220)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function a(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof o.default&&"symbol"===i(r.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,e,n){"use strict";var r=n(212)(!0);n(123)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(38),o=n(15),i=n(124),a=n(26),s=n(40),u=n(213),c=n(53),l=n(119),f=n(13)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,h,v,m,y){u(n,e,h);var g,b,_,x=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",O="values"==v,E=!1,S=t.prototype,j=S[f]||S["@@iterator"]||v&&S[v],C=j||x(v),A=v?O?x("entries"):C:void 0,P="Array"==e&&S.entries||j;if(P&&(_=l(P.call(new t)))!==Object.prototype&&_.next&&(c(_,w,!0),r||"function"==typeof _[f]||a(_,f,d)),O&&j&&"values"!==j.name&&(E=!0,C=function(){return j.call(this)}),r&&!y||!p&&!E&&S[f]||a(S,f,C),s[e]=C,s[w]=d,v)if(g={values:O?C:x("values"),keys:m?C:x("keys"),entries:A},y)for(b in g)b in S||i(S,b,g[b]);else o(o.P+o.F*(p||E),e,g);return g}},function(t,e,n){t.exports=n(26)},function(t,e,n){var r=n(25),o=n(30),i=n(215)(!1),a=n(77)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(41);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(81),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(10).document;t.exports=r&&r.documentElement},function(t,e,n){n(217);for(var r=n(10),o=n(26),i=n(40),a=n(13)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},function(t,e,n){var r=n(125),o=n(83).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(54),o=n(51),i=n(30),a=n(80),s=n(25),u=n(120),c=Object.getOwnPropertyDescriptor;e.f=n(22)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){},function(t,e,n){"use strict";var r=n(238),o=n(239);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){o.isString(t)&&(t=b(t));return t instanceof i?t.format():i.prototype.format.call(t)},e.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(240);function b(t,e,n){if(t&&o.isObject(t)&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}i.prototype.parse=function(t,e,n){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),s=-1!==i&&i<t.indexOf("#")?"?":"#",c=t.split(s);c[0]=c[0].replace(/\\/g,"/");var b=t=c.join(s);if(b=b.trim(),!n&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===b.substr(0,2);!O||x&&m[x]||(b=b.substr(2),this.slashes=!0)}if(!m[x]&&(O||x&&!y[x])){for(var E,S,j=-1,C=0;C<p.length;C++){-1!==(A=b.indexOf(p[C]))&&(-1===j||A<j)&&(j=A)}-1!==(S=-1===j?b.lastIndexOf("@"):b.lastIndexOf("@",j))&&(E=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(E)),j=-1;for(C=0;C<f.length;C++){var A;-1!==(A=b.indexOf(f[C]))&&(-1===j||A<j)&&(j=A)}-1===j&&(j=b.length),this.host=b.slice(0,j),b=b.slice(j),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var M=this.hostname.split(/\./),D=(C=0,M.length);C<D;C++){var T=M[C];if(T&&!T.match(d)){for(var I="",R=0,N=T.length;R<N;R++)T.charCodeAt(R)>127?I+="x":I+=T[R];if(!I.match(d)){var k=M.slice(0,C),L=M.slice(C+1),U=T.match(h);U&&(k.push(U[1]),L.unshift(U[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=k.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(C=0,D=l.length;C<D;C++){var q=l[C];if(-1!==b.indexOf(q)){var B=encodeURIComponent(q);B===q&&(B=escape(q)),b=b.split(q).join(B)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=g.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var $=this.search||"";this.path=F+$}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=g.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if(o.isString(t)){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){for(var f=Object.keys(t),p=0;p<f.length;p++){var d=f[p];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var h=(t.pathname||"").split("/");h.length&&!(t.host=h.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=_||b||n.host&&t.pathname,w=x,O=n.pathname&&n.pathname.split("/")||[],E=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===O[0]?O[0]=n.host:O.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),x=x&&(""===h[0]||""===O[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,O=h;else if(h.length)O||(O=[]),O.pop(),O=O.concat(h),n.search=t.search,n.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(E)n.hostname=n.host=O.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=t.search,n.query=t.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!O.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=O.slice(-1)[0],j=(n.host||t.host||O.length>1)&&("."===S||".."===S)||""===S,C=0,A=O.length;A>=0;A--)"."===(S=O[A])?O.splice(A,1):".."===S?(O.splice(A,1),C++):C&&(O.splice(A,1),C--);if(!x&&!w)for(;C--;C)O.unshift("..");!x||""===O[0]||O[0]&&"/"===O[0].charAt(0)||O.unshift(""),j&&"/"!==O.join("/").substr(-1)&&O.push("");var P,M=""===O[0]||O[0]&&"/"===O[0].charAt(0);E&&(n.hostname=n.host=M?"":O.length?O.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(x=x||n.host&&O.length)&&!M&&O.unshift(""),O.length?n.pathname=O.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=g(n(23)),o=g(n(24)),i=g(n(261)),a=g(n(2)),s=g(n(3)),u=g(n(4)),c=g(n(5)),l=g(n(6)),f=n(0),p=g(f),d=g(n(1)),h=g(n(140)),v=g(n(265)),m=g(n(133)),y=n(56);function g(t){return t&&t.__esModule?t:{default:t}}var b=function(t){function e(){var t,n,u,l,f=this;(0,s.default)(this,e);for(var p=arguments.length,d=Array(p),h=0;h<p;h++)d[h]=arguments[h];return n=u=(0,c.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(d))),u.state={discussions:null},u.lastStandardPage=i.default,u.fetchActivityUpdatesAndSetPaginationLimits=function(){var t=(0,o.default)(r.default.mark(function t(e){var n,o,i,a,s,c,l,p,d,h;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e||u.props,o=n.page,i=n.onAssessedNextPageExistence,a=n.onFetchCompleted,s=n.onAssessedLastStandardPageNumber,c=n.onFetchedLegacyActivities,l=[],!(o<=u.lastStandardPage)){t.next=8;break}return t.next=5,(0,y.getActivitiesByPage)(o,{ignoreCache:!0,attachHeaders:["Link"]});case 5:l=t.sent;try{p=v.default.parse(l._headers.Link).last,u.lastStandardPage=parseInt(m.default.parse(p,!0).query.page,10),s(u.lastStandardPage)}catch(t){console.error("Parsing last page number",t),u.lastStandardPage=0}i(!0);case 8:if(!(o>=u.lastStandardPage)){t.next=19;break}if(!((d=o-u.lastStandardPage)>0)){t.next=15;break}return t.next=13,(0,y.getLegacyActivitiesByPage)(d,{ignoreCache:!0});case 13:l=t.sent,c(l);case 15:return t.next=17,(0,y.getLegacyActivitiesByPage)(d+1);case 17:h=t.sent,i(h.length);case 19:u.setState({discussions:l}),a();case 21:case"end":return t.stop()}},t,f)}));return function(e){return t.apply(this,arguments)}}(),u.componentWillMount=u.fetchActivityUpdatesAndSetPaginationLimits,u.componentWillReceiveProps=function(t){t.timestamp===u.props.timestamp&&t.page===u.props.page||u.fetchActivityUpdatesAndSetPaginationLimits(t)},l=n,(0,c.default)(u,l)}return(0,l.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.state.discussions;if(!t)return p.default.createElement(h.default,null);var e=this.props.children;return p.default.createElement(e,{discussions:t.slice(0,this.props.limit),onOpenDiscussion:this.props.onOpenDiscussion})}}]),e}(f.Component);b.displayName="ActivityContainer",b.propTypes={timestamp:d.default.number,limit:d.default.number,page:d.default.number,children:d.default.func.isRequired,onOpenDiscussion:d.default.func,onFetchCompleted:d.default.func,onAssessedNextPageExistence:d.default.func,onAssessedLastStandardPageNumber:d.default.func,onFetchedLegacyActivities:d.default.func},b.defaultProps={page:1,onOpenDiscussion:function(){},onFetchCompleted:function(){},onAssessedNextPageExistence:function(){},onAssessedLastStandardPageNumber:function(){},onFetchedLegacyActivities:function(){}},e.default=b},function(t,e,n){var r=n(41),o=n(13)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(18),o=n(50),i=n(13)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a=n(39),s=n(253),u=n(128),c=n(79),l=n(10),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,y={},g=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){g.call(t.data)};p&&d||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete y[t]},"process"==n(41)(f)?r=function(t){f.nextTick(a(g,t,1))}:v&&v.now?r=function(t){v.now(a(g,t,1))}:h?(i=(o=new h).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(18),o=n(21),i=n(88);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(0),o=s(r),i=s(n(1)),a=s(n(264));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.spinner=new a.default(this.props.config),this.props.stopped||this.spinner.spin(this.container)},e.prototype.componentWillReceiveProps=function(t){!0!==t.stopped||this.props.stopped?t.stopped||!0!==this.props.stopped||this.spinner.spin(this.container):this.spinner.stop()},e.prototype.componentWillUnmount=function(){this.spinner.stop()},e.prototype.render=function(){var t=this;return o.default.createElement("span",{ref:function(e){return t.container=e}})},e}(r.Component);u.propTypes={config:i.default.object,stopped:i.default.bool},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(2)),o=p(n(3)),i=p(n(4)),a=p(n(5)),s=p(n(6)),u=n(0),c=p(u),l=p(n(1)),f=p(n(142));function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={isExpanded:!1},i.onClick=function(t){t.preventDefault();var e=i.props,n=e.href,r=e.discussionID,o=e.onClick;o?o(r,n):i.setState({isExpanded:!i.state.isExpanded})},i.getSummaryMessage=function(){var t=i.props.countComments;switch(t){case 0:return"No comments";case 1:return"1 comment";default:return t+" comments"}},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.getSummaryMessage();return c.default.createElement("div",{className:"td-status__comments"},t&&c.default.createElement("a",{className:"td-status__comments__toggle",style:{cursor:"pointer"},onClick:this.onClick,href:this.props.href},t),this.state.isExpanded&&c.default.createElement(f.default,{discussionID:this.props.discussionID,limitCount:this.props.limitCount}))}}]),e}(u.Component);d.displayName="Comments",d.propTypes={discussionID:l.default.number.isRequired,countComments:l.default.number.isRequired,limitCount:l.default.number,href:l.default.string,onClick:l.default.func},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(283));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=f(n(2)),o=f(n(3)),i=f(n(4)),a=f(n(5)),s=f(n(6)),u=n(0),c=f(u),l=f(n(1));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={isExpanded:!1},i.handlerClickOutside=function(t){var e=t.target;i.popoverElement.contains(e)||i.setState({isExpanded:!1})},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"componentWillMount",value:function(){window.addEventListener("click",this.handlerClickOutside)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handlerClickOutside)}},{key:"render",value:function(){var t=this,e=this.state.isExpanded;return c.default.createElement("div",{className:"status__actions actions Options"},c.default.createElement("span",{className:"OptionsMenu "+(e?"Open":"")},c.default.createElement("span",{className:"Button-Options",tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":e},c.default.createElement("span",{className:"OptionsTitle",title:"Options"}),c.default.createElement("span",{"aria-hidden":"true",className:"Arrow SpFlyoutHandle",onClick:function(){return setTimeout(function(){return t.setState({isExpanded:!e})},10)}})),c.default.createElement("ul",{className:"Flyout MenuItems list-reset",role:"menu","aria-labelledby":"dropdown","aria-hidden":!e,ref:function(e){t.popoverElement=e}},this.props.modToolsElement)))}}]),e}(u.Component);p.propTypes={modToolsElement:l.default.element},e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(287));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return[].slice.call(t.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object/;function o(t){var e=t.offsetWidth<=0&&t.offsetHeight<=0;if(e&&!t.innerHTML)return!0;var n=window.getComputedStyle(t);return e?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function i(t,e){var n=t.nodeName.toLowerCase();return(r.test(n)&&!t.disabled||"a"===n&&t.href||e)&&function(t){for(var e=t;e&&e!==document.body;){if(o(e))return!1;e=e.parentNode}return!0}(t)}function a(t){var e=t.getAttribute("tabindex");null===e&&(e=void 0);var n=isNaN(e);return(n||e>=0)&&i(t,!n)}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertNodeList=a,e.setElement=function(t){var e=t;if("string"==typeof e&&o.canUseDOM){var n=document.querySelectorAll(e);a(n,e),e="length"in n?n[0]:n}return i=e||i},e.validateElement=s,e.hide=function(t){s(t)&&(t||i).setAttribute("aria-hidden","true")},e.show=function(t){s(t)&&(t||i).removeAttribute("aria-hidden")},e.documentNotReadyOrSSRTesting=function(){i=null},e.resetForTesting=function(){i=null};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(293)),o=n(90);var i=null;function a(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function s(t){return!(!t&&!i)||((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(t,e,n){(function(e){var n="Expected a function",r=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=l||f||Function("return this")(),d=Object.prototype.toString,h=Math.max,v=Math.min,m=function(){return p.Date.now()};function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function g(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&d.call(t)==o}(t))return r;if(y(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=y(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=s.test(t);return n||u.test(t)?c(t.slice(2),n?2:8):a.test(t)?r:+t}t.exports=function(t,e,r){var o,i,a,s,u,c,l=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new TypeError(n);function b(e){var n=o,r=i;return o=i=void 0,l=e,s=t.apply(r,n)}function _(t){var n=t-c;return void 0===c||n>=e||n<0||p&&t-l>=a}function x(){var t=m();if(_(t))return w(t);u=setTimeout(x,function(t){var n=e-(t-c);return p?v(n,a-(t-l)):n}(t))}function w(t){return u=void 0,d&&o?b(t):(o=i=void 0,s)}function O(){var t=m(),n=_(t);if(o=arguments,i=this,c=t,n){if(void 0===u)return function(t){return l=t,u=setTimeout(x,e),f?b(t):s}(c);if(p)return u=setTimeout(x,e),b(c)}return void 0===u&&(u=setTimeout(x,e)),s}return e=g(e)||0,y(r)&&(f=!!r.leading,a=(p="maxWait"in r)?h(g(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d),O.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},O.flush=function(){return void 0===u?s:w(m())},O}}).call(this,n(87))},function(t,e,n){var r=n(302),o=n(59),i=n(7),a=n(60),s=n(61),u=n(91),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),l=!n&&o(t),f=!n&&!l&&a(t),p=!n&&!l&&!f&&u(t),d=n||l||f||p,h=d?r(t.length,String):[],v=h.length;for(var m in t)!e&&!c.call(t,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(87))},function(t,e,n){var r=n(62),o=n(308),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(27),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(28),o=n(8);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){(function(t){var r=n(11),o="object"==typeof e&&e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(55)(t))},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(102),o=n(103),i=n(101),a=n(157),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=s},function(t,e,n){var r=n(160),o=n(101),i=n(8);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(102),o=n(7);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(160),o=n(158),i=n(69);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(27)(n(11),"WeakMap");t.exports=r},function(t,e,n){var r=n(11).Uint8Array;t.exports=r},function(t,e,n){var r=n(104);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(70),o=n(103),i=n(62);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(354)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=i},function(t,e,n){var r=n(356);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(108),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,s=o(i.length-e,0),u=Array(s);++a<s;)u[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(u),r(t,this,c)}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(367),o=n(370),i=n(371),a=1,s=2;t.exports=function(t,e,n,u,c,l){var f=n&a,p=t.length,d=e.length;if(p!=d&&!(f&&d>p))return!1;var h=l.get(t);if(h&&l.get(e))return h==e;var v=-1,m=!0,y=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++v<p;){var g=t[v],b=e[v];if(u)var _=f?u(b,g,v,e,t,l):u(g,b,v,t,e,l);if(void 0!==_){if(_)continue;m=!1;break}if(y){if(!o(e,function(t,e){if(!i(y,e)&&(g===t||c(g,t,n,u,l)))return y.push(e)})){m=!1;break}}else if(g!==b&&!c(g,b,n,u,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(376)),o=_(n(422)),i=_(n(7)),a=_(n(46)),s=_(n(34)),u=_(n(428)),c=_(n(429)),l=_(n(191)),f=_(n(73)),p=_(n(8)),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=_(n(436)),v=_(n(194)),m=n(195),y=n(196),g=_(n(197)),b=_(n(439));function _(t){return t&&t.__esModule?t:{default:t}}function x(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var w=function(t){var e=t&&(0,p.default)(t)[0];return e&&e.split("__")[0].split("--")[0]},O=function(t,e,n){if(t){var r=t.split(" ")[0],o=[].concat(x(0===e.length?n.map(function(t){return r+"--"+t.substring(1)}):[]),x(e.map(function(t){return r+"__"+t})));return 0===e.length?[t].concat(x(o)):o}};e.default=function t(e){var n=e.style,p=e.className,_=e.classNames,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default,S=(0,s.default)(n),j=p||w(_),C=S?n:(0,b.default)(function(e,s){var u=(0,g.default)(e);(0,h.default)((0,i.default)(u),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),(0,h.default)(!s||(0,a.default)(s),"Optional second parameter must be a plain object.");var c=(0,o.default)(y.isModifier,u),p=(0,o.default)(y.isElement,u),v=p.length>0?function(t){return(0,f.default)((0,m.pickNestedStyles)(t,p))}:function(t){return[t]},b=(0,r.default)(v,function(t){return(0,m.hoistModifierStylesRecursive)(t,c)}),w=O(j,p,c);return t(d({},(n||s)&&{style:l.default.apply(void 0,[{}].concat(x(b(s)),x(b(n))))},w&&{className:w.join(" ")},_&&{classNames:_}),E)}),A=d({},S?n:{style:n}),P=[].concat(x(A.className?A.className.split(" "):[]),x(j?j.split(" "):[])),M=_?(0,u.default)(P.map(function(t){return _[t]})):P,D=E(d({},A,M.length>0&&{className:M.join(" ")}));return(0,c.default)(C,D),C},t.exports=e.default},function(t,e,n){var r=n(378),o=n(380);t.exports=function(t,e,n){return r(o,t,e,n)}},function(t,e,n){var r=n(47),o=n(174),i=o?function(t,e){return o.set(t,e),t}:r;t.exports=i},function(t,e,n){var r=n(162),o=r&&new r;t.exports=o},function(t,e,n){var r=n(176),o=n(177),i=n(384),a=n(72),s=n(178),u=n(183),c=n(397),l=n(117),f=n(11),p=1,d=2,h=8,v=16,m=128,y=512;t.exports=function t(e,n,g,b,_,x,w,O,E,S){var j=n&m,C=n&p,A=n&d,P=n&(h|v),M=n&y,D=A?void 0:a(e);return function p(){for(var d=arguments.length,h=Array(d),v=d;v--;)h[v]=arguments[v];if(P)var m=u(p),y=i(h,m);if(b&&(h=r(h,b,_,P)),x&&(h=o(h,x,w,P)),d-=y,P&&d<S){var T=l(h,m);return s(e,n,t,p.placeholder,g,h,T,O,E,S-d)}var I=C?g:this,R=A?I[e]:e;return d=h.length,O?h=c(h,O):M&&d>1&&h.reverse(),j&&E<d&&(h.length=E),this&&this!==f&&this instanceof p&&(R=D||a(R)),R.apply(I,h)}}},function(t,e){var n=Math.max;t.exports=function(t,e,r,o){for(var i=-1,a=t.length,s=r.length,u=-1,c=e.length,l=n(a-s,0),f=Array(c+l),p=!o;++u<c;)f[u]=e[u];for(;++i<s;)(p||i<a)&&(f[r[i]]=t[i]);for(;l--;)f[u++]=t[i++];return f}},function(t,e){var n=Math.max;t.exports=function(t,e,r,o){for(var i=-1,a=t.length,s=-1,u=r.length,c=-1,l=e.length,f=n(a-u,0),p=Array(f+l),d=!o;++i<f;)p[i]=t[i];for(var h=i;++c<l;)p[h+c]=e[c];for(;++s<u;)(d||i<a)&&(p[h+r[s]]=t[i++]);return p}},function(t,e,n){var r=n(179),o=n(181),i=n(182),a=1,s=2,u=4,c=8,l=32,f=64;t.exports=function(t,e,n,p,d,h,v,m,y,g){var b=e&c;e|=b?l:f,(e&=~(b?f:l))&u||(e&=~(a|s));var _=[t,e,d,b?h:void 0,b?v:void 0,b?void 0:h,b?void 0:v,m,y,g],x=n.apply(void 0,_);return r(t)&&o(x,_),x.placeholder=p,i(x,t,e)}},function(t,e,n){var r=n(113),o=n(115),i=n(180),a=n(387);t.exports=function(t){var e=i(t),n=a[e];if("function"!=typeof n||!(e in r.prototype))return!1;if(t===n)return!0;var s=o(n);return!!s&&t===s[0]}},function(t,e,n){var r=n(386),o=Object.prototype.hasOwnProperty;t.exports=function(t){for(var e=t.name+"",n=r[e],i=o.call(r,e)?n.length:0;i--;){var a=n[i],s=a.func;if(null==s||s==t)return a.name}return e}},function(t,e,n){var r=n(173),o=n(169)(r);t.exports=o},function(t,e,n){var r=n(389),o=n(390),i=n(109),a=n(391);t.exports=function(t,e,n){var s=e+"";return i(t,o(s,a(r(s),n)))}},function(t,e){t.exports=function(t){return t.placeholder}},function(t,e,n){var r=n(400);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(407),o=n(410),i=n(47),a=n(7),s=n(415);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(17);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(156),o=n(423),i=n(185),a=n(7);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(426)();t.exports=r},function(t,e,n){var r=n(430),o=n(431);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}},function(t,e,n){var r=n(432),o=n(190)(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){var r=n(100),o=n(42);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e){t.exports=function(t,e){return"__proto__"==e?void 0:t[e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(195),i=["animationName"];e.default=function(t){var e=t.style,n=t.className;return r({},e?{style:(0,o.pickDirectStyles)(e,i)}:{},n?{className:n}:{})},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hoistModifierStylesRecursive=e.pickNestedStyles=e.pickDirectStyles=void 0;var r=c(n(188)),o=c(n(73)),i=c(n(36)),a=c(n(191)),s=c(n(8)),u=n(196);function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},f=(e.pickDirectStyles=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,s.default)(t),r={},o=0,i=n.length;o<i;o+=1){var a=n[o];("[object Object]"!==Object.prototype.toString.call(t[a])||":"===a[0]||"@"===a[0]||e.indexOf(a)>=0)&&(r[a]=t[a])}return r},e.pickNestedStyles=function(t,e){for(var n=e.map(l),r=(0,s.default)(t),o={},i=0,a=r.length;i<a;i+=1){var u=r[i];(e.indexOf(u)>=0||n.indexOf(l(u))>=0)&&(o[u]=t[u])}return o});e.hoistModifierStylesRecursive=function t(e,n){for(var c=a.default.apply(void 0,[{},(0,i.default)(e,n)].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}((0,o.default)(f(e,n))))),l=(0,r.default)((0,s.default)(c),u.isModifier),p=0,d=l.length;p<d;p+=1){var h=l[p],v=t(c[h],n);n.indexOf(h)>=0?(delete c[h],c=(0,a.default)({},c,v)):c[h]=v}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isElement=e.isModifier=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(437));var o=e.isModifier=function(t){return"&"===t[0]};e.isElement=(0,r.default)(o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(438)),o=a(n(46)),i=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){return t?(0,r.default)(t)?[t]:(0,o.default)(t)?(0,i.default)(t).reduce(function(e,n){return e.concat(t[n]?[n]:[])},[]):t:[]},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addHistoryObserver=function(t){r.push(t)},e.removeHistoryObserver=function(t){r=r.filter(function(e){return e!==t})};var r=[];window.onpopstate=function(t){return r.forEach(function(e){return e(t.state)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(444));e.default=r.default},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(48),u=n.n(s),c=n(8),l=n.n(c),f=n(73),p=n.n(f),d=n(36),h=n.n(d),v=n(74),m=n.n(v),y=n(37),g=n.n(y),b=n(14),_=n.n(b),x="__id__",w="__display__",O="__type__",E=function(t,e){return(t=null===t?Number.MAX_VALUE:t)-(e=null===e?Number.MAX_VALUE:e)},S=function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},j=function(t){var e=S(t);return e=(e=(e=e.replace(w,"(.+?)")).replace(x,"(.+?)")).replace(O,"(.+?)"),new RegExp(e,"g")},C=function(t,e,n,r){return t.substring(0,e)+r+t.substring(n)},A=function(t,e,n){if("id"!==e&&"display"!==e&&"type"!==e)throw new Error("parameterName must be 'id', 'display', or 'type'");var r=t.indexOf(w),o=t.indexOf(x),i=t.indexOf(O);if(r<0&&(r=null),o<0&&(o=null),i<0&&(i=null),null===r&&null===o)throw new Error("The markup `"+t+"` must contain at least one of the placeholders `__id__` or `__display__`");if(null===i&&"type"===e)return null;var a=[r,o,i].sort(E);return null===r&&(r=o),null===o&&(o=r),n&&0===function(t){return new RegExp(t.toString()+"|").exec("").length-1}(n)?"type"===e?null:0:"id"===e?a.indexOf(o):"display"===e?a.indexOf(r):"type"===e?null===i?null:a.indexOf(i):void 0},P=function(t,e,n,r,o,i){i=i||j(e);for(var a=A(e,"display",i),s=A(e,"id",i),u=A(e,"type",i),c=void 0,l=0,f=0;null!==(c=i.exec(t));){var p=c[s+1],d=c[a+1],h=null!==u?c[u+1]:null;o&&(d=o(p,d,h));var v=t.substring(l,c.index);n(v,l,f),f+=v.length,r(c[0],c.index,f,p,d,h,l),f+=d.length,l=i.lastIndex}l<t.length&&n(t.substring(l),l,f)},M=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START",o=arguments[4],i=arguments[5];if(!g()(n))return n;var a=void 0;return P(t,e,function(t,e,r){void 0===a&&r+t.length>=n&&(a=e+n-r)},function(t,e,o,i,s,u,c){void 0===a&&o+s.length>n&&(a="NULL"===r?null:e+("END"===r?t.length:0))},o,i),void 0===a?t.length:a},D=function(t,e,n,r){r=r||j(e);var o=A(e,"id",r),i=A(e,"display",r),a=A(e,"type",r);return t.replace(r,function(){var t=arguments[o+1],e=arguments[i+1],r=null!==a?arguments[a+1]:null;return n&&(e=n(t,e,r)),e})},T=function(t,e,n,r){var o=[];return P(t,e,function(){},function(t,e,n,r,i,a,s){o.push({id:r,display:i,type:a,index:e,plainTextIndex:n})},n,r),o},I=function(t){return l()(t).reduce(function(e,n){return e+t[n].results.length},0)},R=function(t){return l()(t).reduce(function(e,n){return[].concat(e,[{suggestions:t[n].results,descriptor:t[n]}])},[])},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var k=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=h()(this.props,"style",l()(e.propTypes));return o.a.createElement("li",N({},t,this.props.style),this.renderContent())},e.prototype.renderContent=function(){var t=this.props,e=t.query,n=t.descriptor,r=t.suggestion,o=t.index,i=this.getDisplay(),a=this.renderHighlightedDisplay(i,e);return n.props.renderSuggestion?n.props.renderSuggestion(r,e,a,o):a},e.prototype.getDisplay=function(){var t=this.props.suggestion;if(t instanceof String)return t;var e=t.id,n=t.display;return e&&n?n:e},e.prototype.renderHighlightedDisplay=function(t){var e=this.props,n=e.query,r=e.style,i=t.toLowerCase().indexOf(n.toLowerCase());return-1===i?o.a.createElement("span",r("display"),t):o.a.createElement("span",r("display"),t.substring(0,i),o.a.createElement("b",r("highlight"),t.substring(i,i+n.length)),t.substring(i+n.length))},e}(r.Component);k.propTypes={};var L=Object(b.defaultStyle)({cursor:"pointer"},function(t){return{"&focused":t.focused}})(k);var U,F,W=_()(function(t){var e=t.style,n=e("spinner");return o.a.createElement("div",e,o.a.createElement("div",n,o.a.createElement("div",n(["element","element1"])),o.a.createElement("div",n(["element","element2"])),o.a.createElement("div",n(["element","element3"])),o.a.createElement("div",n(["element","element4"])),o.a.createElement("div",n(["element","element5"]))))}),q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var B=(F=U=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidUpdate=function(){if(this.suggestionsRef&&!(this.suggestionsRef.offsetHeight>=this.suggestionsRef.scrollHeight)&&this.props.scrollFocusedIntoView){var t=this.suggestionsRef.scrollTop,e=this.suggestionsRef.children[this.props.focusIndex].getBoundingClientRect(),n=e.top,r=e.bottom,o=this.suggestionsRef.getBoundingClientRect().top;r=r-o+t,(n=n-o+t)<t?this.suggestionsRef.scrollTop=n:r>this.suggestionsRef.offsetHeight&&(this.suggestionsRef.scrollTop=r-this.suggestionsRef.offsetHeight)}},e.prototype.render=function(){var t=this,e=this.props,n=e.suggestions,r=e.isLoading,i=e.style,a=e.onMouseDown;return 0!==I(n)||r?o.a.createElement("div",q({},i,{onMouseDown:a}),o.a.createElement("ul",q({ref:function(e){t.suggestionsRef=e}},i("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null},e.prototype.renderSuggestions=function(){var t=this;return R(this.props.suggestions).reduce(function(e,n){var r=n.suggestions,o=n.descriptor;return[].concat(e,r.map(function(n,r){return t.renderSuggestion(n,o,e.length+r)}))},[])},e.prototype.renderSuggestion=function(t,e,n){var r=this,i=this.getID(t),a=n===this.props.focusIndex,s=e.mentionDescriptor,u=e.query;return o.a.createElement(L,{style:this.props.style("item"),key:i,id:i,query:u,index:n,descriptor:s,suggestion:t,focused:a,onClick:function(){return r.select(t,e)},onMouseEnter:function(){return r.handleMouseEnter(n)}})},e.prototype.getID=function(t){return t instanceof String?t:t.id},e.prototype.renderLoadingIndicator=function(){if(this.props.isLoading)return o.a.createElement(W,this.props.style("loadingIndicator"))},e.prototype.handleMouseEnter=function(t,e){this.props.onMouseEnter&&this.props.onMouseEnter(t)},e.prototype.select=function(t,e){this.props.onSelect(t,e)},e}(r.Component),U.defaultProps={suggestions:{},onSelect:function(){return null}},F);B.propTypes={};var z=Object(b.defaultStyle)(function(t){var e=t.position;return q({position:"absolute",zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100},e,{list:{margin:0,padding:0,listStyleType:"none"}})})(B),H=Object(b.defaultStyle)({fontWeight:"inherit"})(function(t){var e=t.display,n=t.style;return o.a.createElement("strong",n,e)});H.propTypes={onAdd:a.a.func,onRemove:a.a.func,renderSuggestion:a.a.func,trigger:a.a.oneOfType([a.a.string,a.a.instanceOf(RegExp)]),isLoading:a.a.bool},H.defaultProps={trigger:"@",onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1};var $,V,Y=H,X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var G=(V=$=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments));return n.state={lastPosition:{}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.componentDidMount=function(){this.notifyCaretPosition()},e.prototype.componentDidUpdate=function(){this.notifyCaretPosition()},e.prototype.notifyCaretPosition=function(){if(this.caretRef){var t={left:this.caretRef.offsetLeft,top:this.caretRef.offsetTop},e=this.state.lastPosition;m()(e,t)||(this.setState({lastPosition:t}),this.props.onCaretPositionChange(t))}},e.prototype.render=function(){var t=this,e=this.props,n=e.selection,r=e.value,i=e.markup,a=e.displayTransform,s=e.style,u=e.inputStyle,c=e.regex,l=void 0;n.start===n.end&&(l=M(r,i,n.start,"START",a,c));var f=[],p={},d=f,h=0;return P(r,i,function(e,n,r){if(g()(l)&&l>=n&&l<=n+e.length){var o=l-n;d.push(t.renderSubstring(e.substring(0,o),h)),d=[t.renderSubstring(e.substring(o),h)]}else d.push(t.renderSubstring(e,h));h++},function(e,n,r,o,i,a,s){var u=function(t,e){return t.hasOwnProperty(e)?t[e]++:t[e]=0,e+"_"+t[e]}(p,o);d.push(t.getMentionComponentForMatch(o,i,a,u))},a,c),d.push(" "),d!==f&&f.push(this.renderHighlighterCaret(d)),o.a.createElement("div",X({},s,{style:X({},u,s.style)}),f)},e.prototype.renderSubstring=function(t,e){return o.a.createElement("span",X({},this.props.style("substring"),{key:e}),t)},e.prototype.getMentionComponentForMatch=function(t,e,n,i){var a=r.Children.count(this.props.children),s={id:t,display:e,key:i};if(a>1){if(!n)throw new Error("Since multiple Mention components have been passed as children, the markup has to define the __type__ placeholder");var u=null;return r.Children.forEach(this.props.children,function(t){t&&t.props.type===n&&(u=t)}),o.a.cloneElement(u,s)}if(1===a){var c=this.props.children.length?this.props.children[0]:r.Children.only(this.props.children);return o.a.cloneElement(c,s)}return Y(s)},e.prototype.renderHighlighterCaret=function(t){var e=this;return o.a.createElement("span",X({},this.props.style("caret"),{ref:function(t){e.caretRef=t},key:"caret"}),t)},e}(r.Component),$.defaultProps={value:"",inputStyle:{}},V);G.propTypes={};var K,J,Q,Z=Object(b.defaultStyle)({position:"relative",width:"inherit",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},function(t){return{"&singleLine":t.singleLine}})(G),tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var et={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},nt=!1,rt={singleLine:a.a.bool,allowSpaceInQuery:a.a.bool,markup:a.a.string,value:a.a.string,displayTransform:a.a.func,onKeyDown:a.a.func,onSelect:a.a.func,onBlur:a.a.func,onChange:a.a.func,children:a.a.oneOfType([a.a.element,a.a.arrayOf(a.a.element)]).isRequired},ot=(J=K=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return Q.call(r),r.suggestions={},r.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:null},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this;return o.a.createElement("div",tt({ref:function(e){t.containerRef=e}},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())},e.prototype.componentDidMount=function(){this.updateSuggestionsPosition()},e.prototype.componentDidUpdate=function(){this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))},e}(o.a.Component),K.defaultProps={markup:"@[__display__](__id__)",singleLine:!1,displayTransform:function(t,e,n){return e},onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}},Q=function(){var t=this;this.getInputProps=function(e){var n=t.props,r=n.readOnly,o=n.disabled,i=n.style,a=h()(t.props,"style",l()(rt));return tt({},a,i("input"),{value:t.getPlainText()},!r&&!o&&{onChange:t.handleChange,onSelect:t.handleSelect,onKeyDown:t.handleKeyDown,onBlur:t.handleBlur,onCompositionStart:t.handleCompositionStart,onCompositionEnd:t.handleCompositionEnd,onScroll:t.updateHighlighterScroll})},this.renderControl=function(){var e=t.props,n=e.singleLine,r=e.style,i=t.getInputProps(!n);return o.a.createElement("div",r("control"),t.renderHighlighter(i.style),n?t.renderInput(i):t.renderTextarea(i))},this.renderInput=function(e){return o.a.createElement("input",tt({type:"text",ref:function(e){t.inputRef=e}},e))},this.renderTextarea=function(e){return o.a.createElement("textarea",tt({ref:function(e){t.inputRef=e}},e))},this.renderSuggestionsOverlay=function(){return g()(t.state.selectionStart)?o.a.createElement(z,{style:t.props.style("suggestions"),position:t.state.suggestionsPosition,focusIndex:t.state.focusIndex,scrollFocusedIntoView:t.state.scrollFocusedIntoView,ref:function(e){t.suggestionsRef=e},suggestions:t.state.suggestions,onSelect:t.addMention,onMouseDown:t.handleSuggestionsMouseDown,onMouseEnter:function(e){return t.setState({focusIndex:e,scrollFocusedIntoView:!1})},isLoading:t.isLoading()}):null},this.renderHighlighter=function(e){var n=t.state,r=n.selectionStart,i=n.selectionEnd,a=t.props,s=a.markup,u=a.displayTransform,c=a.singleLine,l=a.children,f=a.value,p=a.style,d=a.regex;return o.a.createElement(Z,{ref:function(e){t.highlighterRef=e},style:p("highlighter"),inputStyle:e,value:f,markup:s,displayTransform:u,singleLine:c,selection:{start:r,end:i},onCaretPositionChange:function(e){return t.setState({caretPosition:e})},regex:d},l)},this.getPlainText=function(){return D(t.props.value||"",t.props.markup,t.props.displayTransform,t.props.regex)},this.executeOnChange=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a;return t.props.onChange?(i=t.props).onChange.apply(i,[e].concat(r)):t.props.valueLink?(a=t.props.valueLink).requestChange.apply(a,[e.target.value].concat(r)):void 0},this.handleChange=function(e){if((document.activeElement&&document.activeElement.contentDocument||document).activeElement===e.target){var n=t.props.value||"",r=t.props,o=r.markup,i=r.displayTransform,a=r.regex,s=e.target.value,u=function(t,e,n,r,o,i,a,s){var u=D(t,e,a,s),c=u.length-n.length;"undefined"===r&&(r=i+c),"undefined"===o&&(o=r),r===o&&o===i&&u.length===n.length&&(r-=1);var l=n.slice(r,i),f=Math.min(r,i),p=o;r===i&&(p=Math.max(o,r+c));var d=M(t,e,f,"START",a,s),h=M(t,e,p,"END",a,s),v=M(t,e,f,"NULL",a,s),m=M(t,e,p,"NULL",a,s),y=null===v||null===m,g=C(t,d,h,l);if(!y){var b=D(g,e,a,s);if(b!==n){for(f=0;n[f]===b[f];)f++;l=n.slice(f,i),p=u.lastIndexOf(n.substring(i)),d=M(t,e,f,"START",a,s),h=M(t,e,p,"END",a,s),g=C(t,d,h,l)}}return g}(n,o,s,t.state.selectionStart,t.state.selectionEnd,e.target.selectionEnd,i,a);s=D(u,o,i,a);var c=e.target.selectionStart,l=e.target.selectionEnd,f=!1,p=function(t,e,n,r,o){var i=n,a=!1;if(P(t,e,function(){},function(t,e,r,o,s,u,c){r<=n&&r+s.length>n&&(i=r,a=!0)},r,o),a)return i}(n,o,c,i,a);void 0!==p&&t.state.selectionEnd>p&&(l=c=p,f=!0),t.setState({selectionStart:c,selectionEnd:l,setSelectionAfterMentionChange:f});var d=T(u,o,i,a),h={target:{value:u}};t.executeOnChange(h,u,s,d)}},this.handleSelect=function(e){if(!nt){t.setState({selectionStart:e.target.selectionStart,selectionEnd:e.target.selectionEnd});var n=t.inputRef;e.target.selectionStart===e.target.selectionEnd?t.updateMentionsQueries(n.value,e.target.selectionStart):t.clearSuggestions(),t.updateHighlighterScroll(),t.props.onSelect(e)}},this.handleKeyDown=function(e){var n=I(t.state.suggestions),r=t.suggestionsRef;if(0!==n&&r)switch(p()(et).indexOf(e.keyCode)>=0&&e.preventDefault(),e.keyCode){case et.ESC:return void t.clearSuggestions();case et.DOWN:return void t.shiftFocus(1);case et.UP:return void t.shiftFocus(-1);case et.RETURN:case et.TAB:return void t.selectFocused();default:return}else t.props.onKeyDown(e)},this.shiftFocus=function(e){var n=I(t.state.suggestions);t.setState({focusIndex:(n+t.state.focusIndex+e)%n,scrollFocusedIntoView:!0})},this.selectFocused=function(){var e=t.state,n=function(t,e){return R(t).reduce(function(t,e){var n=e.suggestions,r=e.descriptor;return[].concat(t,n.map(function(t){return{suggestion:t,descriptor:r}}))},[])[e]}(e.suggestions,e.focusIndex),r=n.suggestion,o=n.descriptor;t.addMention(r,o),t.setState({focusIndex:0})},this.handleBlur=function(e){var n=t._suggestionsMouseDown;t._suggestionsMouseDown=!1,n||t.setState({selectionStart:null,selectionEnd:null}),window.setTimeout(function(){t.updateHighlighterScroll()},1),t.props.onBlur(e,n)},this.handleSuggestionsMouseDown=function(e){t._suggestionsMouseDown=!0},this.updateSuggestionsPosition=function(){var e=t.state.caretPosition;if(e&&t.suggestionsRef){var n=u.a.findDOMNode(t.suggestionsRef),r=u.a.findDOMNode(t.highlighterRef);if(n){var o=e.left-r.scrollLeft,i={};o+n.offsetWidth>t.containerRef.offsetWidth?i.right=0:i.left=o,i.top=e.top-r.scrollTop,m()(i,t.state.suggestionsPosition)||t.setState({suggestionsPosition:i})}}},this.updateHighlighterScroll=function(){if(t.inputRef&&t.highlighterRef){var e=t.inputRef,n=u.a.findDOMNode(t.highlighterRef);n.scrollLeft=e.scrollLeft,n.scrollTop=e.scrollTop,n.height=e.height}},this.handleCompositionStart=function(){nt=!0},this.handleCompositionEnd=function(){nt=!1},this.setSelection=function(e,n){if(null!==e&&null!==n){var r=t.inputRef;if(r.setSelectionRange)r.setSelectionRange(e,n);else if(r.createTextRange){var o=r.createTextRange();o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",e),o.select()}}},this.updateMentionsQueries=function(e,n){t._queryId++,t.suggestions={},t.setState({suggestions:{}});var r=t.props.value||"",i=t.props,a=i.markup,s=i.displayTransform,u=i.children,c=i.regex,l=M(r,a,n,"NULL",s,c);if(null!==l){var f=function(t,e,n,r){var o=T(t,e,n,r),i=o[o.length-1];return i?i.plainTextIndex+i.display.length:0}(r.substring(0,l),a,s,c),p=e.substring(f,n);o.a.Children.forEach(u,function(n){if(n){var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t instanceof RegExp)return t;var n=e.allowSpaceInQuery,r=S(t);return new RegExp("(?:^|\\s)("+r+"([^"+(n?"":"\\s")+r+"]*))$")}(n.props.trigger,t.props),o=p.match(r);if(o){var i=f+p.indexOf(o[1],o.index);t.queryData(o[2],n,i,i+o[1].length,e)}}})}},this.clearSuggestions=function(){t._queryId++,t.suggestions={},t.setState({suggestions:{},focusIndex:0})},this.queryData=function(e,n,r,o,i){var a=function(t){return t instanceof Array?function(e,n){for(var r=[],o=0,i=t.length;o<i;++o)(t[o].display||t[o].id).toLowerCase().indexOf(e.toLowerCase())>=0&&r.push(t[o]);return r}:t}(n.props.data)(e,t.updateSuggestions.bind(null,t._queryId,n,e,r,o,i));a instanceof Array&&t.updateSuggestions(t._queryId,n,e,r,o,i,a)},this.updateSuggestions=function(e,n,r,o,i,a,s){var u;if(e===t._queryId){t.suggestions=tt({},t.suggestions,((u={})[n.props.type]={query:r,mentionDescriptor:n,querySequenceStart:o,querySequenceEnd:i,results:s,plainTextValue:a},u));var c=t.state.focusIndex,l=I(t.suggestions);t.setState({suggestions:t.suggestions,focusIndex:c>=l?Math.max(l-1,0):c})}},this.addMention=function(e,n){var r=n.mentionDescriptor,o=n.querySequenceStart,i=n.querySequenceEnd,a=n.plainTextValue,s=t.props.value||"",u=t.props,c=u.markup,l=u.displayTransform,f=u.regex,p=M(s,c,o,"START",l,f),d=p+i-o,h=function(t,e,n,r){var o=t.replace(x,e);return o=(o=o.replace(w,n)).replace(O,r)}(c,e.id,e.display,r.props.type);r.props.appendSpaceOnAdd&&(h+=" ");var v=C(s,p,d,h);t.inputRef.focus();var m=l(e.id,e.display,r.props.type);r.props.appendSpaceOnAdd&&(m+=" ");var y=o+m.length;t.setState({selectionStart:y,selectionEnd:y,setSelectionAfterMentionChange:!0});var g={target:{value:v}},b=T(v,c,l,f),_=C(a,o,i,m);t.executeOnChange(g,v,_,b);var E=r.props.onAdd;E&&E(e.id,e.display),t.clearSuggestions()},this.isLoading=function(){var e=!1;return o.a.Children.forEach(t.props.children,function(t){e=e||t&&t.props.isLoading}),e},this._queryId=0},J);ot.propTypes={};var it="undefined"!=typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent),at=Object(b.defaultStyle)({position:"relative",overflowY:"visible",input:{display:"block",position:"absolute",top:0,boxSizing:"border-box",backgroundColor:"transparent",width:"inherit",fontFamily:"inherit",fontSize:"inherit"},"&multiLine":{input:tt({width:"100%",height:"100%",bottom:0,overflow:"hidden",resize:"none"},it?{marginTop:1,marginLeft:-3}:null)}},function(t){var e=t.singleLine;return{"&singleLine":e,"&multiLine":!e}})(ot);n.d(e,"MentionsInput",function(){return at}),n.d(e,"Mention",function(){return Y})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActivityPage=e.ActivityWidget=void 0;var r=i(n(202)),o=i(n(451));function i(t){return t&&t.__esModule?t:{default:t}}e.ActivityWidget=o.default,e.ActivityPage=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(203));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(2)),o=y(n(3)),i=y(n(4)),a=y(n(5)),s=y(n(6)),u=n(0),c=y(u),l=y(n(1)),f=y(n(133)),p=y(n(134)),d=y(n(270)),h=y(n(144)),v=n(198),m=y(n(199));function y(t){return t&&t.__esModule?t:{default:t}}var g=window.tomodomo.config,b=g.ACTIVITY_PATH,_=g.ACTIVITY_LABEL,x=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={discussionID:null,page:1,isLastPage:!0,changedAt:new Date,legacyDiscussions:null},i.onChangePage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forceUpdate:!1};i.setState({page:t,discussionID:null}),e.forceUpdate&&i.setState({changedAt:new Date}),window.history.pushState({page:t},_,b+"/p"+t)},i.onOpenDiscussion=function(t,e){var n=e;if(!n){var r=f.default.parse(window.location.href,!0);delete r.search,r.query.discussionID=t,n=f.default.format(r),i.isLegacy=!0}window.history.pushState({discussionID:t},_,n),i.setState({discussionID:t})},i.onPostActivity=function(){1===i.state.page?i.setState({changedAt:new Date}):i.onChangePage(1)},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"componentWillMount",value:function(){var t=this,e=f.default.parse(window.location.href,!0).query.discussionID,n=this.props.discussionId,r=n||e;this.setState({discussionID:r}),this.isLegacy=e&&!n;var o=window.location.href.match(/\/p([0-9]+)(((\/)|(\?)|(#)).*)?$/),i=o?parseFloat(o[1]):1;this.setState({page:i}),window.history.replaceState({discussionID:r,page:i},"Activity"),(0,v.addHistoryObserver)(function(e){0!==window.location.pathname.indexOf(b)&&0!==window.location.pathname.indexOf("/discussion/")&&window.location.assign(window.location.href),t.setState({page:e&&e.page||i,discussionID:e?e.discussionID:r})})}},{key:"render",value:function(){var t=this,e=this.state,n=e.page,r=e.legacyDiscussions,o=parseFloat(this.state.discussionID);return c.default.createElement("div",{className:"activity-page"},c.default.createElement("h1",{className:"H HomepageTitle"},_),c.default.createElement(m.default,{onPostActivity:this.onPostActivity,hasAvatar:!0}),c.default.createElement(p.default,{onOpenDiscussion:this.onOpenDiscussion,page:n,timestamp:this.state.changedAt.getTime(),onFetchCompleted:function(){return window.scrollTo(0,0)},onAssessedNextPageExistence:function(e){t.setState({isLastPage:!e})},onAssessedLastStandardPageNumber:function(e){t.lastStandardPage=e},onFetchedLegacyActivities:function(e){return t.setState({legacyDiscussions:e})}},d.default),c.default.createElement(h.default,{discussionID:o,onCloseDiscussion:function(e){var r=e.forceUpdate;return t.onChangePage(n,{forceUpdate:r})},isLegacy:this.isLegacy,discussion:r&&r.find(function(t){return t.discussionID===o})}),c.default.createElement("div",{className:"activity__nav"},c.default.createElement("button",{disabled:1===n,onClick:function(){return t.onChangePage(n-1)},className:"td-button"},"Previous page"),c.default.createElement("button",{disabled:this.state.isLastPage,onClick:function(){return t.onChangePage(n+1)},className:"td-button"},"Next page")))}}]),e}(u.Component);x.propTypes={discussionId:l.default.string},e.default=x},function(t,e,n){n(205),t.exports=n(9).Object.getPrototypeOf},function(t,e,n){var r=n(75),o=n(119);n(206)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(15),o=n(9),i=n(29);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){t.exports={default:n(208),__esModule:!0}},function(t,e,n){n(209);var r=n(9).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(15);r(r.S+r.F*!n(22),"Object",{defineProperty:n(20).f})},function(t,e,n){t.exports={default:n(211),__esModule:!0}},function(t,e,n){n(122),n(129),t.exports=n(84).f("iterator")},function(t,e,n){var r=n(81),o=n(76);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(82),o=n(51),i=n(53),a={};n(26)(a,n(13)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(20),o=n(18),i=n(52);t.exports=n(22)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(30),o=n(127),i=n(216);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),l=i(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(81),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";var r=n(218),o=n(219),i=n(40),a=n(30);t.exports=n(123)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports={default:n(221),__esModule:!0}},function(t,e,n){n(222),n(132),n(227),n(228),t.exports=n(9).Symbol},function(t,e,n){"use strict";var r=n(10),o=n(25),i=n(22),a=n(15),s=n(124),u=n(223).KEY,c=n(29),l=n(78),f=n(53),p=n(49),d=n(13),h=n(84),v=n(85),m=n(224),y=n(225),g=n(18),b=n(21),_=n(30),x=n(80),w=n(51),O=n(82),E=n(226),S=n(131),j=n(20),C=n(52),A=S.f,P=j.f,M=E.f,D=r.Symbol,T=r.JSON,I=T&&T.stringify,R=d("_hidden"),N=d("toPrimitive"),k={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),F=l("op-symbols"),W=Object.prototype,q="function"==typeof D,B=r.QObject,z=!B||!B.prototype||!B.prototype.findChild,H=i&&c(function(){return 7!=O(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(W,e);r&&delete W[e],P(t,e,n),r&&t!==W&&P(W,e,r)}:P,$=function(t){var e=U[t]=O(D.prototype);return e._k=t,e},V=q&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},Y=function(t,e,n){return t===W&&Y(F,e,n),g(t),e=x(e,!0),g(n),o(U,e)?(n.enumerable?(o(t,R)&&t[R][e]&&(t[R][e]=!1),n=O(n,{enumerable:w(0,!1)})):(o(t,R)||P(t,R,w(1,{})),t[R][e]=!0),H(t,e,n)):P(t,e,n)},X=function(t,e){g(t);for(var n,r=m(e=_(e)),o=0,i=r.length;i>o;)Y(t,n=r[o++],e[n]);return t},G=function(t){var e=k.call(this,t=x(t,!0));return!(this===W&&o(U,t)&&!o(F,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,R)&&this[R][t])||e)},K=function(t,e){if(t=_(t),e=x(e,!0),t!==W||!o(U,e)||o(F,e)){var n=A(t,e);return!n||!o(U,e)||o(t,R)&&t[R][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=M(_(t)),r=[],i=0;n.length>i;)o(U,e=n[i++])||e==R||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===W,r=M(n?F:_(t)),i=[],a=0;r.length>a;)!o(U,e=r[a++])||n&&!o(W,e)||i.push(U[e]);return i};q||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===W&&e.call(F,n),o(this,R)&&o(this[R],t)&&(this[R][t]=!1),H(this,t,w(1,n))};return i&&z&&H(W,t,{configurable:!0,set:e}),$(t)}).prototype,"toString",function(){return this._k}),S.f=K,j.f=Y,n(130).f=E.f=J,n(54).f=G,n(86).f=Q,i&&!n(38)&&s(W,"propertyIsEnumerable",G,!0),h.f=function(t){return $(d(t))}),a(a.G+a.W+a.F*!q,{Symbol:D});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)d(Z[tt++]);for(var et=C(d.store),nt=0;et.length>nt;)v(et[nt++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=D(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!q,"Object",{create:function(t,e){return void 0===e?O(t):X(O(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),T&&a(a.S+a.F*(!q||c(function(){var t=D();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(b(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,I.apply(T,r)}}),D.prototype[N]||n(26)(D.prototype,N,D.prototype.valueOf),f(D,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(t,e,n){var r=n(49)("meta"),o=n(21),i=n(25),a=n(20).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(29)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},f=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&f.NEED&&u(t)&&!i(t,r)&&l(t),t}}},function(t,e,n){var r=n(52),o=n(86),i=n(54);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(41);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(30),o=n(130).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){n(85)("asyncIterator")},function(t,e,n){n(85)("observable")},function(t,e,n){t.exports={default:n(230),__esModule:!0}},function(t,e,n){n(231),t.exports=n(9).Object.setPrototypeOf},function(t,e,n){var r=n(15);r(r.S,"Object",{setPrototypeOf:n(232).set})},function(t,e,n){var r=n(21),o=n(18),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(39)(Function.call,n(131).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){t.exports={default:n(234),__esModule:!0}},function(t,e,n){n(235);var r=n(9).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(15);r(r.S,"Object",{create:n(82)})},function(t,e,n){"use strict";var r=n(237);function o(){}t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=o,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){(function(t,r){var o;/*! https://mths.be/punycode v1.3.2 by @mathias */!function(i){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,c=36,l=1,f=26,p=38,d=700,h=72,v=128,m="-",y=/^xn--/,g=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-l,w=Math.floor,O=String.fromCharCode;function E(t){throw RangeError(_[t])}function S(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function j(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+S((t=t.replace(b,".")).split("."),e).join(".")}function C(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function A(t){return S(t,function(t){var e="";return t>65535&&(e+=O((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=O(t)}).join("")}function P(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:c}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function D(t,e,n){var r=0;for(t=n?w(t/d):t>>1,t+=w(t/e);t>x*f>>1;r+=c)t=w(t/x);return w(r+(x+1)*t/(t+p))}function T(t){var e,n,r,o,i,a,s,p,d,y,g=[],b=t.length,_=0,x=v,O=h;for((n=t.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E("not-basic"),g.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<b;){for(i=_,a=1,s=c;o>=b&&E("invalid-input"),((p=P(t.charCodeAt(o++)))>=c||p>w((u-_)/a))&&E("overflow"),_+=p*a,!(p<(d=s<=O?l:s>=O+f?f:s-O));s+=c)a>w(u/(y=c-d))&&E("overflow"),a*=y;O=D(_-i,e=g.length+1,0==i),w(_/e)>u-x&&E("overflow"),x+=w(_/e),_%=e,g.splice(_++,0,x)}return A(g)}function I(t){var e,n,r,o,i,a,s,p,d,y,g,b,_,x,S,j=[];for(b=(t=C(t)).length,e=v,n=0,i=h,a=0;a<b;++a)(g=t[a])<128&&j.push(O(g));for(r=o=j.length,o&&j.push(m);r<b;){for(s=u,a=0;a<b;++a)(g=t[a])>=e&&g<s&&(s=g);for(s-e>w((u-n)/(_=r+1))&&E("overflow"),n+=(s-e)*_,e=s,a=0;a<b;++a)if((g=t[a])<e&&++n>u&&E("overflow"),g==e){for(p=n,d=c;!(p<(y=d<=i?l:d>=i+f?f:d-i));d+=c)S=p-y,x=c-y,j.push(O(M(y+S%x,0))),p=w(S/x);j.push(O(M(p,0))),i=D(n,_,r==o),n=0,++r}++n,++e}return j.join("")}s={version:"1.3.2",ucs2:{decode:C,encode:A},decode:T,encode:I,toASCII:function(t){return j(t,function(t){return g.test(t)?"xn--"+I(t):t})},toUnicode:function(t){return j(t,function(t){return y.test(t)?T(t.slice(4).toLowerCase()):t})}},void 0===(o=function(){return s}.call(e,n,e,t))||(t.exports=o)}()}).call(this,n(55)(t),n(87))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(241),e.encode=e.stringify=n(242)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;i&&"number"==typeof i.maxKeys&&(u=i.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var f,p,d,h,v=t[l].replace(s,"%20"),m=v.indexOf(n);m>=0?(f=v.substr(0,m),p=v.substr(m+1)):(f=v,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),r(a,d)?o(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(a(t),function(a){var s=encodeURIComponent(r(a))+n;return o(t[a])?i(t[a],function(t){return s+encodeURIComponent(r(t))}).join(e):s+encodeURIComponent(r(t[a]))}).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(244),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=_;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={},m={};m[a]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(D([])));g&&g!==r&&o.call(g,a)&&(m=g);var b=E.prototype=w.prototype=Object.create(m);O.prototype=b.constructor=E,E.constructor=O,E[u]=O.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===O||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},S(j.prototype),j.prototype[s]=function(){return this},l.AsyncIterator=j,l.async=function(t,e,n,r){var o=new j(_(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=D,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return s.type="throw",s.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),a=new M(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=x(t,e,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function w(){}function O(){}function E(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function j(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,a){var s=x(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},a)}a(s.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function C(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,C(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=x(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function D(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e,n){t.exports={default:n(246),__esModule:!0}},function(t,e,n){n(132),n(122),n(129),n(247),n(259),n(260),t.exports=n(9).Promise},function(t,e,n){"use strict";var r,o,i,a,s=n(38),u=n(10),c=n(39),l=n(135),f=n(15),p=n(21),d=n(50),h=n(248),v=n(249),m=n(136),y=n(137).set,g=n(254)(),b=n(88),_=n(138),x=n(255),w=n(139),O=u.TypeError,E=u.process,S=E&&E.versions,j=S&&S.v8||"",C=u.Promise,A="process"==l(E),P=function(){},M=o=b.f,D=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(13)("species")]=function(t){t(P,P)};return(A||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==j.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(o||(2==t._h&&k(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(O("Promise-chain cycle")):(i=T(n))?i.call(n,u,c):u(n)):c(r)}catch(t){l&&!a&&l.exit(),c(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){y.call(u,function(){var e,n,r,o=t._v,i=N(t);if(i&&(e=_(function(){A?E.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=A||N(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(t){y.call(u,function(){var e;A?E.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw O("Promise can't be resolved itself");(e=T(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(U,r,1),c(L,r,1))}catch(t){L.call(r,t)}}):(n._v=t,n._s=1,I(n,!1))}catch(t){L.call({_w:n,_d:!1},t)}}};D||(C=function(t){h(this,C,"Promise","_h"),d(t),r.call(this);try{t(c(U,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(256)(C.prototype,{then:function(t,e){var n=M(m(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=A?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(U,t,1),this.reject=c(L,t,1)},b.f=M=function(t){return t===C||t===a?new i(t):o(t)}),f(f.G+f.W+f.F*!D,{Promise:C}),n(53)(C,"Promise"),n(257)("Promise"),a=n(9).Promise,f(f.S+f.F*!D,"Promise",{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(s||!D),"Promise",{resolve:function(t){return w(s&&this===a?C:this,t)}}),f(f.S+f.F*!(D&&n(258)(function(t){C.all(t).catch(P)})),"Promise",{all:function(t){var e=this,n=M(e),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,a=1;v(t,!1,function(t){var s=i++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=M(e),r=n.reject,o=_(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(39),o=n(250),i=n(251),a=n(18),s=n(127),u=n(252),c={},l={};(e=t.exports=function(t,e,n,f,p){var d,h,v,m,y=p?function(){return t}:u(t),g=r(n,f,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(d=s(t.length);d>b;b++)if((m=e?g(a(h=t[b])[0],h[1]):g(t[b]))===c||m===l)return m}else for(v=y.call(t);!(h=v.next()).done;)if((m=o(v,g,h.value,e))===c||m===l)return m}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(18);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(40),o=n(13)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(135),o=n(13)("iterator"),i=n(40);t.exports=n(9).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(10),o=n(137).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(41)(a);t.exports=function(){var t,e,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var f=!0,p=document.createTextNode("");new i(c).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(10).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(26);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){"use strict";var r=n(10),o=n(9),i=n(20),a=n(22),s=n(13)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(13)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(15),o=n(9),i=n(10),a=n(136),s=n(139);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(15),o=n(88),i=n(138);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){t.exports={default:n(262),__esModule:!0}},function(t,e,n){n(263),t.exports=9007199254740991},function(t,e,n){var r=n(15);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r,o;!function(i,a){"object"==typeof t&&t.exports?t.exports=a():void 0===(o="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o)}(0,function(){"use strict";var t,e,n=["webkit","Moz","ms","O"],r={};function o(t,e){var n,r=document.createElement(t||"div");for(n in e)r[n]=e[n];return r}function i(t){for(var e=1,n=arguments.length;e<n;e++)t.appendChild(arguments[e]);return t}function a(n,o,i,a){var s=["opacity",o,~~(100*n),i,a].join("-"),u=.01+i/a*100,c=Math.max(1-(1-n)/o*(100-u),n),l=t.substring(0,t.indexOf("Animation")).toLowerCase(),f=l&&"-"+l+"-"||"";return r[s]||(e.insertRule("@"+f+"keyframes "+s+"{0%{opacity:"+c+"}"+u+"%{opacity:"+n+"}"+(u+.01)+"%{opacity:1}"+(u+o)%100+"%{opacity:"+n+"}100%{opacity:"+c+"}}",e.cssRules.length),r[s]=1),s}function s(t,e){var r,o,i=t.style;if(void 0!==i[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(o=0;o<n.length;o++)if(void 0!==i[r=n[o]+e])return r}function u(t,e){for(var n in e)t.style[s(t,n)||n]=e[n];return t}function c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)void 0===t[r]&&(t[r]=n[r])}return t}function l(t,e){return"string"==typeof t?t:t[e%t.length]}var f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function p(t){this.opts=c(t||{},p.defaults,f)}if(p.defaults={},c(p.prototype,{spin:function(e){this.stop();var n=this,r=n.opts,i=n.el=o(null,{className:r.className});if(u(i,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),e&&e.insertBefore(i,e.firstChild||null),i.setAttribute("role","progressbar"),n.lines(i,n.opts),!t){var a,s=0,c=(r.lines-1)*(1-r.direction)/2,l=r.fps,f=l/r.speed,p=(1-r.opacity)/(f*r.trail/100),d=f/r.lines;!function t(){s++;for(var e=0;e<r.lines;e++)a=Math.max(1-(s+(r.lines-e)*d)%f*p,r.opacity),n.opacity(i,e*r.direction+c,a,r);n.timeout=n.el&&setTimeout(t,~~(1e3/l))}()}return n},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(e,n){var r,s=0,c=(n.lines-1)*(1-n.direction)/2;function f(t,e){return u(o(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*s+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(;s<n.lines;s++)r=u(o(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:t&&a(n.opacity,n.trail,c+s*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&i(r,u(f("#000","0 0 4px #000"),{top:"2px"})),i(e,i(r,f(l(n.color,s),"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(t,e,n){e<t.childNodes.length&&(t.childNodes[e].style.opacity=n)}}),"undefined"!=typeof document){e=function(){var t=o("style",{type:"text/css"});return i(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}();var d=u(o("group"),{behavior:"url(#default#VML)"});!s(d,"transform")&&d.adj?function(){function t(t,e){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}e.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(e,n){var r=n.scale*(n.length+n.width),o=2*n.scale*r;function a(){return u(t("group",{coordsize:o+" "+o,coordorigin:-r+" "+-r}),{width:o,height:o})}var s,c=-(n.width+n.length)*n.scale*2+"px",f=u(a(),{position:"absolute",top:c,left:c});function p(e,o,s){i(f,i(u(a(),{rotation:360/n.lines*e+"deg",left:~~o}),i(u(t("roundrect",{arcsize:n.corners}),{width:r,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:s}),t("fill",{color:l(n.color,e),opacity:n.opacity}),t("stroke",{opacity:0}))))}if(n.shadow)for(s=1;s<=n.lines;s++)p(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)p(s);return i(e,f)},p.prototype.opacity=function(t,e,n,r){var o=t.firstChild;r=r.shadow&&r.lines||0,o&&e+r<o.childNodes.length&&(o=(o=(o=o.childNodes[e+r])&&o.firstChild)&&o.firstChild)&&(o.opacity=n)}}():t=s(d,"animation")}return p})},function(t,e,n){var r,o;!function(i,a,s){void 0!==t&&t.exports?t.exports=a():"function"==typeof s.define&&s.define.amd?void 0===(o="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=o):s.li=a()}(0,function(){var t=/^;\s*([^"=]+)=(?:"([^"]+)"|([^";,]+)(?:[;,]|$))/,e=/^<([^>]*)>/,n=/^\s*,\s*/;return{parse:function(r,o){for(var i,a,s,u=o&&o.extended||!1,c=[];r&&(r=r.trim(),a=e.exec(r));){for(var l={link:a[1]},f=(r=r.slice(a[0].length)).match(n);r&&(!f||f.index>0)&&(i=t.exec(r));)f=(r=r.slice(i[0].length)).match(n),"rel"===i[1]||"rev"===i[1]?(s=(i[2]||i[3]).split(/\s+/),l[i[1]]=s):l[i[1]]=i[2]||i[3];c.push(l),r=r.replace(n,"")}return u?c:c.reduce(function(t,e){return e.rel&&e.rel.forEach(function(n){t[n]=e.link}),t},{})},stringify:function(t){var e=Object.keys(t).reduce(function(e,n){return e[t[n]]=e[t[n]]||[],e[t[n]].push(n),e},{});return Object.keys(e).reduce(function(t,n){return t.concat("<"+n+'>; rel="'+e[n].join(" ")+'"')},[]).join(", ")}}},this)},function(t,e,n){t.exports={default:n(267),__esModule:!0}},function(t,e,n){n(268),t.exports=n(9).Object.assign},function(t,e,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(269)})},function(t,e,n){"use strict";var r=n(52),o=n(86),i=n(54),a=n(75),s=n(126),u=Object.assign;t.exports=!u||n(29)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=o.f,f=i.f;u>c;)for(var p,d=s(arguments[c++]),h=l?r(d).concat(l(d)):r(d),v=h.length,m=0;v>m;)f.call(d,p=h[m++])&&(n[p]=d[p]);return n}:u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(2)),o=h(n(3)),i=h(n(4)),a=h(n(5)),s=h(n(6)),u=n(0),c=h(u),l=h(n(1)),f=h(n(58)),p=n(16),d=h(n(141));function h(t){return t&&t.__esModule?t:{default:t}}var v=window.tomodomo.config.LIMIT_ACTIVITY_COMMENTS,m=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this,e=this.props.discussions;return e.length?c.default.createElement("ul",{className:"td-status__list"},e.map(function(e){return c.default.createElement("li",{className:"td-status__item",key:e.discussionID},c.default.createElement("div",{className:"td-status__author"},c.default.createElement("img",{src:e.insertUser.photoUrl,className:"ProfilePhoto td-status__photo",alt:e.insertUser.name}),c.default.createElement("a",{href:(0,p.getUserUrl)(e.insertUser.name),className:"td-status__username"},e.insertUser.name)," ",c.default.createElement("span",{className:"td-status__separator"},"·")," ",c.default.createElement("a",{href:e.url,onClick:function(n){n.preventDefault(),t.props.onOpenDiscussion(e.discussionID,e.url)},className:"td-status__time"},c.default.createElement("time",null,(0,f.default)(e.dateInserted)," ago"))),c.default.createElement("div",{className:"td-status__content"},c.default.createElement("div",{className:"td-status__text"},(0,p.stripHtmlTags)(e.body)),c.default.createElement(d.default,{discussionID:e.discussionID,countComments:e.countComments,limitCount:v,href:e.url,onClick:t.props.onOpenDiscussion})))})):c.default.createElement("div",{className:"td-status__empty"},"Nothing new")}}]),e}(u.PureComponent);m.propTypes={discussions:l.default.arrayOf(l.default.shape({discussionID:l.default.number.isRequired,dateInserted:l.default.string.isRequired,body:l.default.string.isRequired,url:l.default.string,categoryID:l.default.number,countComments:l.default.number,insertUser:l.default.shape({userID:l.default.number.isRequired,name:l.default.string.isRequired,photoUrl:l.default.string.isRequired})})).isRequired,onOpenDiscussion:l.default.func.isRequired},e.default=m},function(t,e,n){var r=n(272),o=n(31),i=n(274),a=n(276),s=n(279),u=1440,c=2520,l=43200,f=86400;t.exports=function(t,e,n){var p=n||{},d=r(t,e),h=p.locale,v=s.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(v=h.distanceInWords.localize);var m,y,g={addSuffix:Boolean(p.addSuffix),comparison:d};d>0?(m=o(t),y=o(e)):(m=o(e),y=o(t));var b,_=i(y,m),x=y.getTimezoneOffset()-m.getTimezoneOffset(),w=Math.round(_/60)-x;if(w<2)return p.includeSeconds?_<5?v("lessThanXSeconds",5,g):_<10?v("lessThanXSeconds",10,g):_<20?v("lessThanXSeconds",20,g):_<40?v("halfAMinute",null,g):v(_<60?"lessThanXMinutes":"xMinutes",1,g):0===w?v("lessThanXMinutes",1,g):v("xMinutes",w,g);if(w<45)return v("xMinutes",w,g);if(w<90)return v("aboutXHours",1,g);if(w<u)return v("aboutXHours",Math.round(w/60),g);if(w<c)return v("xDays",1,g);if(w<l)return v("xDays",Math.round(w/u),g);if(w<f)return v("aboutXMonths",b=Math.round(w/l),g);if((b=a(y,m))<12)return v("xMonths",Math.round(w/l),g);var O=b%12,E=Math.floor(b/12);return O<3?v("aboutXYears",E,g):O<9?v("overXYears",E,g):v("almostXYears",E+1,g)}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n>o?-1:n<o?1:0}},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,n){var r=n(275);t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()-o.getTime()}},function(t,e,n){var r=n(31),o=n(277),i=n(278);t.exports=function(t,e){var n=r(t),a=r(e),s=i(n,a),u=Math.abs(o(n,a));return n.setMonth(n.getMonth()-s*u),s*(u-(i(n,a)===-s))}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=r(t),o=r(e);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n<o?-1:n>o?1:0}},function(t,e,n){var r=n(280),o=n(281);t.exports={distanceInWords:r(),format:o()}},function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var o;return r=r||{},o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(t,e,n){var r=n(282);t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],u=["a.m.","p.m."],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?a[1]:a[0]},a:function(t){return t.getHours()/12>=1?s[1]:s[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){c[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:c,formattingTokensRegExp:r(c)}}},function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var o=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(23)),o=y(n(24)),i=y(n(2)),a=y(n(3)),s=y(n(4)),u=y(n(5)),c=y(n(6)),l=n(0),f=y(l),p=y(n(1)),d=n(16),h=n(89),v=n(56),m=y(n(284));function y(t){return t&&t.__esModule?t:{default:t}}var g=window.tomodomo.config.ALLOW_SELF_DELETE,b=function(t){function e(){var t,n,s,c,l=this;(0,a.default)(this,e);for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];return n=s=(0,u.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(p))),s.state={comments:null,userPermissions:null,userProfile:null},s.fetchPermissions=(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.getModAccessOnActivities)();case 2:return t.sent,t.t0=s,t.next=6,(0,v.getModAccessOnActivities)();case 6:t.t1=t.sent,t.t2={userPermissions:t.t1},t.t0.setState.call(t.t0,t.t2);case 9:case"end":return t.stop()}},t,l)})),s.fetchProfile=(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,(0,d.getProfile)();case 3:t.t1=t.sent,t.t2={userProfile:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t,l)})),s.fetchComments=function(){var t=(0,o.default)(r.default.mark(function t(e){var n;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.getCommentsByActivityId)(e.discussionID,{ignoreCache:e&&e.updateTimestamp!==s.props.updateTimestamp});case 2:n=t.sent,s.setState({comments:n});case 4:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}(),s.onDeleteComment=function(){var t=(0,o.default)(r.default.mark(function t(e){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.deleteCommentById)(e);case 2:s.setState({comments:s.state.comments.filter(function(t){return t.commentID!==e})});case 3:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}(),s.componentWillMount=function(){s.props.commentList?s.setState({comments:s.props.commentList}):s.fetchComments(s.props).catch(console.error),s.props.isLegacy||(s.fetchPermissions().catch(console.error),s.fetchProfile().catch(console.error))},s.componentWillReceiveProps=function(t){t.isLegacy&&t.commentList?s.setState({comments:t.commentList}):s.fetchComments(t)},c=n,(0,u.default)(s,c)}return(0,c.default)(e,t),(0,s.default)(e,[{key:"render",value:function(){var t=this,e=this.state,n=e.comments,r=e.userPermissions,o=e.userProfile;return n?f.default.createElement(m.default,{comments:n.slice(0,this.props.limitCount),showDetails:this.props.showDetails,yielderOnDeleteComment:function(e){return r&&r["comments.delete"]||o&&o.userID===e.insertUser.userID&&g?t.onDeleteComment:null}}):null}}]),e}(l.Component);b.propTypes={discussionID:p.default.number.isRequired,limitCount:p.default.number,showDetails:p.default.bool,updateTimestamp:p.default.number,commentList:p.default.arrayOf(p.default.shape()),isLegacy:p.default.bool},b.defaultProps={limitCount:void 0},e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(57)),o=h(n(2)),i=h(n(3)),a=h(n(4)),s=h(n(5)),u=h(n(6)),c=n(0),l=h(c),f=h(n(1)),p=h(n(285)),d=h(n(286));function h(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(){return(0,i.default)(this,e),(0,s.default)(this,(e.__proto__||(0,o.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,a.default)(e,[{key:"render",value:function(){var t=this,e=this.props.showDetails?d.default:p.default;return l.default.createElement("ul",{className:"comments"},this.props.comments.map(function(n){return l.default.createElement("li",{key:n.commentID,className:"td-status__item","data-comment-id":n.commentID},l.default.createElement(e,(0,r.default)({},n,{onDeleteComment:t.props.yielderOnDeleteComment(n)})))}))}}]),e}(c.PureComponent);v.propTypes={comments:f.default.arrayOf(f.default.shape({commentID:f.default.number.isRequired,body:f.default.string.isRequired,insertUser:f.default.shape({name:f.default.string.isRequired,photoUrl:f.default.string.isRequired}).isRequired})).isRequired,showDetails:f.default.bool,yielderOnDeleteComment:f.default.func},e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(2)),o=p(n(3)),i=p(n(4)),a=p(n(5)),s=p(n(6)),u=n(0),c=p(u),l=p(n(1)),f=n(16);function p(t){return t&&t.__esModule?t:{default:t}}var d=function(t){function e(){return(0,o.default)(this,e),(0,a.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props.insertUser.name;return c.default.createElement("div",{className:"comment comment--simple"},c.default.createElement("div",{className:"sblist__author"},c.default.createElement("img",{src:this.props.insertUser.photoUrl,className:"ProfilePhoto sblist__photo",alt:t}),c.default.createElement("a",{href:(0,f.getUserUrl)(t),className:"td-status__username"},t)," replied:"),c.default.createElement("div",{className:"comment__body"},(0,f.stripHtmlTags)(this.props.body)))}}]),e}(u.PureComponent);d.propTypes={insertUser:l.default.shape({photoUrl:l.default.string.isRequired,name:l.default.string.isRequired}),body:l.default.string.isRequired},e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(23)),o=m(n(24)),i=m(n(2)),a=m(n(3)),s=m(n(4)),u=m(n(5)),c=m(n(6)),l=n(0),f=m(l),p=m(n(1)),d=m(n(58)),h=n(16),v=m(n(143));function m(t){return t&&t.__esModule?t:{default:t}}var y=function(t){function e(){var t,n,s,c,l=this;(0,a.default)(this,e);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return n=s=(0,u.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(p))),s.onDeleteComment=(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this comment?")){t.next=9;break}return t.prev=1,t.next=4,s.props.onDeleteComment(s.props.commentID);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),alert("Can't delete this comment:\n"+t.t0.message);case 9:case"end":return t.stop()}},t,l,[[1,6]])})),c=n,(0,u.default)(s,c)}return(0,c.default)(e,t),(0,s.default)(e,[{key:"render",value:function(){var t=this.props.insertUser.name,e=this.props.onDeleteComment&&f.default.createElement("li",{role:"presentation",className:"no-icon"},f.default.createElement("a",{href:"javascript:;",role:"menuitem",className:"dropdown-menu-link dropdown-menu-link-edit",onClick:this.onDeleteComment},"Delete Comment"));return f.default.createElement("div",null,f.default.createElement("div",{className:"td-status__author"},f.default.createElement("img",{src:this.props.insertUser.photoUrl,className:"ProfilePhoto td-status__photo",alt:t}),f.default.createElement("a",{href:(0,h.getUserUrl)(t),className:"td-status__username"},t)," ",f.default.createElement("span",{className:"td-status__separator"},"·")," ",f.default.createElement("span",{className:"td-status__time"},f.default.createElement("time",null,(0,d.default)(this.props.dateInserted)," ago"))),f.default.createElement("div",{className:"td-status__content"},f.default.createElement("div",{className:"td-status__text"},(0,h.stripHtmlTags)(this.props.body))),e&&f.default.createElement(v.default,{modToolsElement:e}))}}]),e}(l.PureComponent);y.propTypes={commentID:p.default.number.isRequired,insertUser:p.default.shape({photoUrl:p.default.string.isRequired,name:p.default.string.isRequired}),body:p.default.string.isRequired,dateInserted:p.default.string.isRequired,onDeleteComment:p.default.func},e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(2)),o=d(n(3)),i=d(n(4)),a=d(n(5)),s=d(n(6)),u=n(0),c=d(u),l=d(n(1)),f=d(n(288)),p=d(n(297));function d(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.onRequestClose=function(){return i.props.onCloseDiscussion({forceUpdate:!0})},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props,e=(t.onCloseDiscussion,t.discussionID);return c.default.createElement(f.default,{isOpen:!!e,className:"td-status__modal",overlayClassName:"td-status__modal__overlay",contentLabel:"Status Details",onRequestClose:this.onRequestClose,ariaHideApp:!1},c.default.createElement("button",{onClick:this.onRequestClose,style:{float:"right"}},"×"),c.default.createElement(p.default,this.props))}}]),e}(u.PureComponent);h.propTypes={discussionID:l.default.number,onCloseDiscussion:l.default.func.isRequired},e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(289));e.default=r.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bodyOpenClassName=e.portalClassName=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=h(i),s=h(n(48)),u=h(n(1)),c=h(n(290)),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(146)),f=n(90),p=h(f),d=n(296);function h(t){return t&&t.__esModule?t:{default:t}}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var m=e.portalClassName="ReactModalPortal",y=e.bodyOpenClassName="ReactModal__Body--open",g=void 0!==s.default.createPortal,b=g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer;function _(t){return t()}var x=function(t){function e(){var t,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=v(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.removePortal=function(){!g&&s.default.unmountComponentAtNode(o.node),_(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(t){o.portal=t},o.renderPortal=function(t){var n=b(o,a.default.createElement(c.default,r({defaultStyles:e.defaultStyles},t)),o.node);o.portalRef(n)},v(o,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),o(e,[{key:"componentDidMount",value:function(){f.canUseDOM&&(g||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(t){return{prevParent:_(t.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(t,e,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;t.portalClassName!==i&&(this.node.className=i);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(t.isOpen||o)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var t=this.portal.state,e=Date.now(),n=t.isOpen&&this.props.closeTimeoutMS&&(t.closesAt||e+this.props.closeTimeoutMS);n?(t.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-e)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&g?(!this.node&&g&&(this.node=document.createElement("div")),b(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(t){l.setElement(t)}}]),e}();x.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},x.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:y,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},x.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,d.polyfill)(x),e.default=x},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),s=v(a),u=v(n(1)),c=h(n(291)),l=v(n(292)),f=h(n(146)),p=h(n(295)),d=v(n(90));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function v(t){return t&&t.__esModule?t:{default:t}}var m={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=9,g=27,b=0,_=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.setOverlayRef=function(t){n.overlay=t,n.props.overlayRef&&n.props.overlayRef(t)},n.setContentRef=function(t){n.content=t,n.props.contentRef&&n.props.contentRef(t)},n.afterClose=function(){var t=n.props,e=t.appElement,r=t.ariaHideApp,o=t.htmlOpenClassName,i=t.bodyOpenClassName;p.remove(document.body,i),o&&p.remove(document.getElementsByTagName("html")[0],o),r&&b>0&&0===(b-=1)&&f.show(e),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var t=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:t},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(t){t.keyCode===y&&(0,l.default)(n.content,t),n.props.shouldCloseOnEsc&&t.keyCode===g&&(t.stopPropagation(),n.requestClose(t))},n.handleOverlayOnClick=function(t){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(t):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(t){n.props.shouldCloseOnOverlayClick||t.target!=n.overlay||t.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(t){return n.ownerHandlesClose()&&n.props.onRequestClose(t)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(t,e){var r="object"===(void 0===e?"undefined":o(e))?e:{base:m[t],afterOpen:m[t]+"--after-open",beforeClose:m[t]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof e&&e?i+" "+e:i},n.attributesFromObject=function(t,e){return Object.keys(e).reduce(function(n,r){return n[t+"-"+r]=e[r],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(t,e){this.props.isOpen&&!t.isOpen?this.open():!this.props.isOpen&&t.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!e.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var t=this.props,e=t.appElement,n=t.ariaHideApp,r=t.htmlOpenClassName,o=t.bodyOpenClassName;p.add(document.body,o),r&&p.add(document.getElementsByTagName("html")[0],r),n&&(b+=1,f.hide(e))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.overlayClassName,o=t.defaultStyles,i=e?{}:o.content,a=n?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:r({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},s.default.createElement("div",r({ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",e),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{})),this.props.children))}}]),e}();_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,testId:u.default.string},e.default=_,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handleBlur=s,e.handleFocus=u,e.markForFocusLater=function(){o.push(document.activeElement)},e.returnFocus=function(){var t=null;try{return void(0!==o.length&&(t=o.pop()).focus())}catch(e){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},e.popWithoutFocus=function(){o.length>0&&o.pop()},e.setupScopedFocus=function(t){i=t,window.addEventListener?(window.addEventListener("blur",s,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",s),document.attachEvent("onFocus",u))},e.teardownScopedFocus=function(){i=null,window.addEventListener?(window.removeEventListener("blur",s),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",s),document.detachEvent("onFocus",u))};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145));var o=[],i=null,a=!1;function s(){a=!0}function u(){if(a){if(a=!1,!i)return;setTimeout(function(){i.contains(document.activeElement)||((0,r.default)(i)[0]||i).focus()},0)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=(0,r.default)(t);if(!n.length)return void e.preventDefault();var o,i=e.shiftKey,a=n[0],s=n[n.length-1];if(t===document.activeElement){if(!i)return;o=s}s!==document.activeElement||i||(o=a);a===document.activeElement&&i&&(o=s);if(o)return e.preventDefault(),void o.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=i?-1:1);e.preventDefault(),n[c].focus()};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(145));t.exports=e.default},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dumpClassLists=function(){0};var r={},o={};e.add=function(t,e){return function(t,e,n){n.forEach(function(n){!function(t,e){t[e]||(t[e]=0),t[e]+=1}(e,n),t.add(n)})}(t.classList,"html"==t.nodeName.toLowerCase()?r:o,e.split(" "))},e.remove=function(t,e){return function(t,e,n){n.forEach(function(n){!function(t,e){t[e]&&(t[e]-=1)}(e,n),0===e[n]&&t.remove(n)})}(t.classList,"html"==t.nodeName.toLowerCase()?r:o,e.split(" "))}},function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function o(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=o),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=_(n(57)),o=_(n(23)),i=_(n(24)),a=_(n(2)),s=_(n(3)),u=_(n(4)),c=_(n(5)),l=_(n(6)),f=n(0),p=_(f),d=_(n(1)),h=_(n(140)),v=n(16),m=n(56),y=n(89),g=_(n(298)),b=_(n(443));function _(t){return t&&t.__esModule?t:{default:t}}var x=window.tomodomo.config.ALLOW_SELF_DELETE,w=function(t){function e(){var t,n,r,u,l=this;(0,s.default)(this,e);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return n=r=(0,c.default)(this,(t=e.__proto__||(0,a.default)(e)).call.apply(t,[this].concat(p))),r.state={discussion:null,userPermissions:null,userProfile:null,categories:null},r.fetchActivityUpdates=function(){var t=(0,i.default)(o.default.mark(function t(e){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,m.getActivityById)(e);case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,y.getCommentsByActivityId)(e);case 9:n.comments=t.sent,r.setState({discussion:n});case 11:case"end":return t.stop()}},t,l)}));return function(e){return t.apply(this,arguments)}}(),r.fetchPermissions=(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,(0,m.getModAccessOnActivities)();case 3:t.t1=t.sent,t.t2={userPermissions:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t,l)})),r.fetchProfile=(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,(0,v.getProfile)();case 3:t.t1=t.sent,t.t2={userProfile:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t,l)})),r.fetchCategories=(0,i.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,(0,v.getCategories)();case 3:t.t1=t.sent,t.t2={categories:t.t1},t.t0.setState.call(t.t0,t.t2);case 6:case"end":return t.stop()}},t,l)})),r.onDeleteActivity=function(){return(0,m.deleteActivityById)(r.props.discussionID)},r.onChangeCategory=function(t){return(0,m.updateDiscussionById)(r.props.discussionID,{categoryID:t})},r.componentWillMount=function(){var t=r.props,e=t.discussion;t.isLegacy?r.setState({discussion:e}):(r.fetchActivityUpdates(r.props.discussionID).catch(console.error),r.fetchPermissions().catch(console.error),r.fetchProfile().catch(console.error),r.fetchCategories().catch(console.error))},r.componentWillReceiveProps=function(t){r.props.isLegacy?r.setState({discussion:t.discussion}):r.props.discussionID!==t.discussionID&&r.fetchActivityUpdates(t.discussionID).catch(console.error)},u=n,(0,c.default)(r,u)}return(0,l.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){var t=this.state,e=t.discussion,n=t.userPermissions,o=t.userProfile,i=t.categories,a=n&&n["discussions.manage"];if(!e)return p.default.createElement(h.default,null);var s=p.default.createElement(b.default,{onDeleteActivity:a||o&&o.userID===e.insertUserID&&x?this.onDeleteActivity:null,onChangeCategory:a?this.onChangeCategory:null,onCloseDiscussion:this.props.onCloseDiscussion,discussionCategoryID:e.discussionID,categories:i});return p.default.createElement(g.default,(0,r.default)({},e,{onCloseDiscussion:this.props.onCloseDiscussion,actionsElement:s}))}}]),e}(f.Component);w.propTypes={discussionID:d.default.number.isRequired,onCloseDiscussion:d.default.func.isRequired,discussion:d.default.shape(),isLegacy:d.default.bool},e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(2)),o=v(n(3)),i=v(n(4)),a=v(n(5)),s=v(n(6)),u=n(0),c=v(u),l=v(n(1)),f=v(n(58)),p=n(16),d=v(n(142)),h=v(n(299));function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={updateTimestamp:0},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this,e=this.props.isLegacy,n=this.props.insertUser.name;return c.default.createElement("div",{className:"td-status__details"},c.default.createElement("div",{className:"td-status__item td-status__item--primary","data-discussion-id":this.props.discussionID},c.default.createElement("div",{className:"td-status__author"},c.default.createElement("img",{src:this.props.insertUser.photoUrl,className:"ProfilePhoto td-status__photo",alt:n}),c.default.createElement("a",{href:(0,p.getUserUrl)(n),className:"td-status__username"},n)," ",c.default.createElement("span",{className:"td-status__separator"},"·")," ",c.default.createElement("span",{className:"td-status__time"},c.default.createElement("time",null,(0,f.default)(this.props.dateInserted)," ago"))),c.default.createElement("div",{className:"td-status__content"},c.default.createElement("div",{className:"td-status__text"},(0,p.stripHtmlTags)(this.props.body))),this.props.actionsElement),c.default.createElement(d.default,{discussionID:this.props.discussionID,countComments:this.props.countComments,showDetails:!0,updateTimestamp:this.state.updateTimestamp,commentList:this.props.comments,isLegacy:e}),!e&&c.default.createElement(h.default,{discussionID:this.props.discussionID,onSubmit:function(){t.setState({updateTimestamp:(new Date).getTime()})}}))}}]),e}(u.Component);m.propTypes={discussionID:l.default.number.isRequired,dateInserted:l.default.string.isRequired,body:l.default.string.isRequired,countComments:l.default.number,insertUser:l.default.shape({userID:l.default.number.isRequired,name:l.default.string.isRequired,photoUrl:l.default.string.isRequired}),isLegacy:l.default.bool,comments:l.default.arrayOf(l.default.shape()),actionsElement:l.default.element},e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(300));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(23)),o=y(n(24)),i=y(n(2)),a=y(n(3)),s=y(n(4)),u=y(n(5)),c=y(n(6)),l=n(0),f=y(l),p=y(n(1)),d=y(n(147)),h=n(16),v=n(89),m=y(n(301));function y(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){var t,n,s,c,l=this;(0,a.default)(this,e);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return n=s=(0,u.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(p))),s.state={userProfile:null},s.componentWillMount=(0,o.default)(r.default.mark(function t(){var e;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,h.getProfile)();case 2:e=t.sent,s.setState({userProfile:e});case 4:case"end":return t.stop()}},t,l)})),s.onSubmit=function(t,e){t.preventDefault(),(0,v.postComment)({text:e,discussionID:s.props.discussionID,apiVersion:1}).then(s.props.onSubmit).catch(console.error)},s.tagSearch=function(t,e){t&&(0,h.tagSearch)(t).then(function(t){return t.map(function(t){var e=t.id;return{display:t.name,id:e}})}).then(e)},c=n,(0,u.default)(s,c)}return(0,c.default)(e,t),(0,s.default)(e,[{key:"render",value:function(){return f.default.createElement(m.default,{onSubmit:this.onSubmit,userProfile:this.state.userProfile,tagSearch:(0,d.default)(this.tagSearch,200)})}}]),e}(l.Component);g.propTypes={onSubmit:p.default.func,discussionID:p.default.number.isRequired},e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(2)),o=p(n(3)),i=p(n(4)),a=p(n(5)),s=p(n(6)),u=n(0),c=p(u),l=p(n(1)),f=n(200);function p(t){return t&&t.__esModule?t:{default:t}}var d=window.tomodomo.config.ACTIVITY_COMMENT_MAXLEN,h=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={text:""},i.onChange=function(t){i.setState({text:t.target.value})},i.onSubmit=function(t){i.props.onSubmit(t,i.state.text),i.setState({text:""})},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props.userProfile,e=d-this.state.text.length;return c.default.createElement("div",{className:"FormWrapper td-status-form td-status-form--comment"},t&&c.default.createElement("img",{src:t.photoUrl,alt:t.name,className:"ProfilePhoto td-status-form__photo"}),c.default.createElement("form",{className:"Comment td-status-form__form",onSubmit:this.onSubmit},c.default.createElement(f.MentionsInput,{className:"mentions",wrap:1,rows:3,cols:5,placeholder:"Leave a comment",maxLength:d||void 0,onChange:this.onChange,value:this.state.text,markup:'@"__display__"',displayTransform:function(t,e,n){return"@"+e}},this.props.tagSearch&&c.default.createElement(f.Mention,{className:"user-mention",trigger:"@",onAdd:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).log.apply(t,["added a new mention"].concat(n))},data:this.props.tagSearch,appendSpaceOnAdd:!0,renderSuggestion:function(t,e,n){return c.default.createElement("div",{className:"user-tag"},n)}})),c.default.createElement("div",{className:"td-status-form__footer"},c.default.createElement("div",{className:"td-status-form__count"},!!d&&e!==d&&c.default.createElement("span",null,e," characters left")),c.default.createElement("div",{className:"td-status-form__actions"},c.default.createElement("input",{type:"submit",value:"Add Reply",className:"Button Primary td-status-form__submit",disabled:!this.state.text})))))}}]),e}(u.Component);h.propTypes={onSubmit:l.default.func,userProfile:l.default.shape({name:l.default.string.isRequired,photoUrl:l.default.string.isRequired}),tagSearch:l.default.func},e.default=h},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(19),o=n(12),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(32),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=n:delete t[s]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(19),o=n(92),i=n(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(151)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(63);t.exports=function(t,e){return r(e,function(e){return t[e]})}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(66),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():o.call(e,n,1),--this.size,0))}},function(t,e,n){var r=n(66);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(66);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(65);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(65),o=n(96),i=n(97),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(34),o=n(321),i=n(17),a=n(152),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e,n){var r=n(322),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(11)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(325),o=n(65),i=n(96);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(326),o=n(327),i=n(328),a=n(329),s=n(330);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(67);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(67),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(67),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(67),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(68);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(68);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(68);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(68);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(28),o=n(69);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(17),o=n(62),i=n(338),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(28),o=n(101);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(28),o=n(158);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(27)(n(11),"DataView");t.exports=r},function(t,e,n){var r=n(27)(n(11),"Promise");t.exports=r},function(t,e,n){var r=n(27)(n(11),"Set");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(104),o=n(346),i=n(347),a=n(348),s=n(164),u="[object Boolean]",c="[object Date]",l="[object Map]",f="[object Number]",p="[object RegExp]",d="[object Set]",h="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",g="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",O="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",j="[object Uint32Array]";t.exports=function(t,e,n){var C=t.constructor;switch(e){case m:return r(t);case u:case c:return new C(+t);case y:return o(t,n);case g:case b:case _:case x:case w:case O:case E:case S:case j:return s(t,n);case l:return new C;case f:case h:return new C(t);case p:return i(t);case d:return new C;case v:return a(t)}}},function(t,e,n){var r=n(104);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(32),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(350),o=n(93),i=n(94),a=i&&i.isMap,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(44),o=n(12),i="[object Map]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(352),o=n(93),i=n(94),a=i&&i.isSet,s=a?o(a):r;t.exports=s},function(t,e,n){var r=n(44),o=n(12),i="[object Set]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(71),o=n(357),i=n(358),a=n(35);t.exports=function(t,e){return e=r(e,t),null==(t=i(t,e))||delete t[a(o(e))]}},function(t,e,n){var r=n(355),o=500;t.exports=function(t){var e=r(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=n(97),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(32),o=n(63),i=n(7),a=n(45),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(106),o=n(359);t.exports=function(t,e){return e.length<2?t:r(t,o(e,0,-1))}},function(t,e){t.exports=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}},function(t,e,n){var r=n(46);t.exports=function(t){return r(t)?void 0:t}},function(t,e,n){var r=n(362);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},function(t,e,n){var r=n(102),o=n(363);t.exports=function t(e,n,i,a,s){var u=-1,c=e.length;for(i||(i=o),s||(s=[]);++u<c;){var l=e[u];n>0&&i(l)?n>1?t(l,n-1,i,a,s):r(s,l):a||(s[s.length]=l)}return s}},function(t,e,n){var r=n(32),o=n(59),i=n(7),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e,n){var r=n(365),o=n(153),i=n(47),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(64),o=n(170),i=n(372),a=n(375),s=n(44),u=n(7),c=n(60),l=n(91),f=1,p="[object Arguments]",d="[object Array]",h="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,y,g){var b=u(t),_=u(e),x=b?d:s(t),w=_?d:s(e),O=(x=x==p?h:x)==h,E=(w=w==p?h:w)==h,S=x==w;if(S&&c(t)){if(!c(e))return!1;b=!0,O=!1}if(S&&!O)return g||(g=new r),b||l(t)?o(t,e,n,m,y,g):i(t,e,x,n,m,y,g);if(!(n&f)){var j=O&&v.call(t,"__wrapped__"),C=E&&v.call(e,"__wrapped__");if(j||C){var A=j?t.value():t,P=C?e.value():e;return g||(g=new r),y(A,P,n,m,g)}}return!!S&&(g||(g=new r),a(t,e,n,m,y,g))}},function(t,e,n){var r=n(97),o=n(368),i=n(369);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(32),o=n(163),i=n(42),a=n(170),s=n(373),u=n(374),c=1,l=2,f="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,O=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,E,S){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!E(new o(t),new o(e)));case f:case p:case v:return i(+t,+e);case d:return t.name==e.name&&t.message==e.message;case m:case g:return t==e+"";case h:var j=s;case y:var C=r&c;if(j||(j=u),t.size!=e.size&&!C)return!1;var A=S.get(t);if(A)return A==e;r|=l,S.set(t,e);var P=a(j(t),j(e),r,w,E,S);return S.delete(t),P;case b:if(O)return O.call(t)==O.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var r=n(159),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&o,l=r(t),f=l.length;if(f!=r(e).length&&!c)return!1;for(var p=f;p--;){var d=l[p];if(!(c?d in e:i.call(e,d)))return!1}var h=u.get(t);if(h&&u.get(e))return h==e;var v=!0;u.set(t,e),u.set(e,t);for(var m=c;++p<f;){var y=t[d=l[p]],g=e[d];if(a)var b=c?a(g,y,d,e,t,u):a(y,g,d,t,e,u);if(!(void 0===b?y===g||s(y,g,n,a,u):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var _=t.constructor,x=e.constructor;_!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x)&&(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,n){t.exports=n(377)},function(t,e,n){var r=n(172)("flowRight",n(420));r.placeholder=n(111),t.exports=r},function(t,e,n){var r=n(379),o=n(111),i=Array.prototype.push;function a(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function s(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function u(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var o=r[0]=e.apply(void 0,r);return t.apply(void 0,r),o}}}t.exports=function t(e,n,c,l){var f,p="function"==typeof n,d=n===Object(n);if(d&&(l=c,c=n,n=void 0),null==c)throw new TypeError;l||(l={});var h={cap:!("cap"in l)||l.cap,curry:!("curry"in l)||l.curry,fixed:!("fixed"in l)||l.fixed,immutable:!("immutable"in l)||l.immutable,rearg:!("rearg"in l)||l.rearg},v="curry"in l&&l.curry,m="fixed"in l&&l.fixed,y="rearg"in l&&l.rearg,g=p?c:o,b=p?c.runInContext():void 0,_=p?c:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isError:e.isError,isFunction:e.isFunction,isWeakMap:e.isWeakMap,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,toInteger:e.toInteger,toPath:e.toPath},x=_.ary,w=_.assign,O=_.clone,E=_.curry,S=_.forEach,j=_.isArray,C=_.isError,A=_.isFunction,P=_.isWeakMap,M=_.keys,D=_.rearg,T=_.toInteger,I=_.toPath,R=M(r.aryMethod),N={castArray:function(t){return function(){var e=arguments[0];return j(e)?t(s(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),o=r.length;return h.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:a(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!A(n))return t(n,Object(e));var r=[];return S(M(e),function(t){A(e[t])&&r.push([t,n.prototype[t]])}),t(n,Object(e)),S(r,function(t){var e=t[1];A(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]}),n}},nthArg:function(t){return function(e){var n=e<0?1:T(e)+1;return E(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return E(t(e,n),r)}},runInContext:function(n){return function(r){return t(e,n(r),l)}}};function k(t,e){if(h.cap){var n=r.iterateeRearg[t];if(n)return function(t,e){return q(t,function(t){var n=e.length;return function(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}(D(a(t,n),e),n)})}(e,n);var o=!p&&r.iterateeAry[t];if(o)return function(t,e){return q(t,function(t){return"function"==typeof t?a(t,e):t})}(e,o)}return e}function L(t,e,n){if(h.fixed&&(m||!r.skipFixed[t])){var o=r.methodSpread[t],a=o&&o.start;return void 0===a?x(e,n):function(t,e){return function(){for(var n=arguments.length,r=n-1,o=Array(n);n--;)o[n]=arguments[n];var a=o[e],s=o.slice(0,e);return a&&i.apply(s,a),e!=r&&i.apply(s,o.slice(e+1)),t.apply(this,s)}}(e,a)}return e}function U(t,e,n){return h.rearg&&n>1&&(y||!r.skipRearg[t])?D(e,r.methodRearg[t]||r.aryRearg[n]):e}function F(t,e){for(var n=-1,r=(e=I(e)).length,o=r-1,i=O(Object(t)),a=i;null!=a&&++n<r;){var s=e[n],u=a[s];null==u||A(u)||C(u)||P(u)||(a[s]=O(n==o?u:Object(u))),a=a[s]}return i}function W(e,n){var o=r.aliasToReal[e]||e,i=r.remap[o]||o,a=l;return function(e){var r=p?b:_,s=p?b[i]:n,u=w(w({},a),e);return t(r,o,s,u)}}function q(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var o=h.rearg?0:n-1;return r[o]=e(r[o]),t.apply(void 0,r)}}function B(t,e){var n,o=r.aliasToReal[t]||t,i=e,a=N[o];return a?i=a(e):h.immutable&&(r.mutate.array[o]?i=u(e,s):r.mutate.object[o]?i=u(e,function(t){return function(e){return t({},e)}}(e)):r.mutate.set[o]&&(i=u(e,F))),S(R,function(t){return S(r.aryMethod[t],function(e){if(o==e){var a=r.methodSpread[o],s=a&&a.afterRearg;return n=s?L(o,U(o,i,t),t):U(o,L(o,i,t),t),n=function(t,e,n){return v||h.curry&&n>1?E(e,n):e}(0,n=k(o,n),t),!1}}),!n}),n||(n=i),n==e&&(n=v?E(n,1):function(){return e.apply(this,arguments)}),n.convert=W(o,e),r.placeholder[o]&&(f=!0,n.placeholder=e.placeholder=g),n}if(!d)return B(n,c);var z=c,H=[];return S(R,function(t){S(r.aryMethod[t],function(t){var e=z[r.remap[t]||t];e&&H.push([t,B(t,e)])})}),S(M(z),function(t){var e=z[t];if("function"==typeof e){for(var n=H.length;n--;)if(H[n][0]==t)return;e.convert=W(t,e),H.push([t,e])}}),S(H,function(t){z[t[0]]=t[1]}),z.convert=function(t){return z.runInContext.convert(t)(void 0)},f&&(z.placeholder=g),S(M(z),function(t){S(r.realToAlias[t]||[],function(e){z[e]=z[t]})}),z}},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,partial:!0,partialRight:!0},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var o in n){var i=n[o];t.call(r,i)?r[i].push(o):r[i]=[o]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(381),assign:n(154),clone:n(402),curry:n(403),forEach:n(98),isArray:n(7),isError:n(404),isFunction:n(34),isWeakMap:n(405),iteratee:n(406),keys:n(150),rearg:n(418),toInteger:n(184),toPath:n(419)}},function(t,e,n){var r=n(112),o=128;t.exports=function(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,r(t,o,void 0,void 0,void 0,void 0,e)}},function(t,e,n){var r=n(72),o=n(11),i=1;t.exports=function(t,e,n){var a=e&i,s=r(t);return function e(){return(this&&this!==o&&this instanceof e?s:t).apply(a?n:this,arguments)}}},function(t,e,n){var r=n(108),o=n(72),i=n(175),a=n(178),s=n(183),u=n(117),c=n(11);t.exports=function(t,e,n){var l=o(t);return function o(){for(var f=arguments.length,p=Array(f),d=f,h=s(o);d--;)p[d]=arguments[d];var v=f<3&&p[0]!==h&&p[f-1]!==h?[]:u(p,h);return(f-=v.length)<n?a(t,e,i,o.placeholder,void 0,p,v,void 0,void 0,n-f):r(this&&this!==c&&this instanceof o?l:t,this,p)}}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}},function(t,e){t.exports=function(){}},function(t,e){t.exports={}},function(t,e,n){var r=n(113),o=n(116),i=n(114),a=n(7),s=n(12),u=n(388),c=Object.prototype.hasOwnProperty;function l(t){if(s(t)&&!a(t)&&!(t instanceof r)){if(t instanceof o)return t;if(c.call(t,"__wrapped__"))return u(t)}return new o(t)}l.prototype=i.prototype,l.prototype.constructor=l,t.exports=l},function(t,e,n){var r=n(113),o=n(116),i=n(43);t.exports=function(t){if(t instanceof r)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=i(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}},function(t,e){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;t.exports=function(t){var e=t.match(n);return e?e[1].split(r):[]}},function(t,e){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=function(t,e){var r=e.length;if(!r)return t;var o=r-1;return e[o]=(r>1?"& ":"")+e[o],e=e.join(r>2?", ":" "),t.replace(n,"{\n/* [wrapped with "+e+"] */\n")}},function(t,e,n){var r=n(98),o=n(392),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=function(t,e){return r(i,function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)}),t.sort()}},function(t,e,n){var r=n(393);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(394),o=n(395),i=n(396);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(43),o=n(61),i=Math.min;t.exports=function(t,e){for(var n=t.length,a=i(e.length,n),s=r(t);a--;){var u=e[a];t[a]=o(u,n)?s[u]:void 0}return t}},function(t,e,n){var r=n(108),o=n(72),i=n(11),a=1;t.exports=function(t,e,n,s){var u=e&a,c=o(t);return function e(){for(var o=-1,a=arguments.length,l=-1,f=s.length,p=Array(f+a),d=this&&this!==i&&this instanceof e?c:t;++l<f;)p[l]=s[l];for(;a--;)p[l++]=arguments[++o];return r(d,u?n:this,p)}}},function(t,e,n){var r=n(176),o=n(177),i=n(117),a="__lodash_placeholder__",s=1,u=2,c=4,l=8,f=128,p=256,d=Math.min;t.exports=function(t,e){var n=t[1],h=e[1],v=n|h,m=v<(s|u|f),y=h==f&&n==l||h==f&&n==p&&t[7].length<=e[8]||h==(f|p)&&e[7].length<=e[8]&&n==l;if(!m&&!y)return t;h&s&&(t[2]=e[2],v|=n&s?0:c);var g=e[3];if(g){var b=t[3];t[3]=b?r(b,g,e[4]):g,t[4]=b?i(t[3],a):e[4]}return(g=e[5])&&(b=t[5],t[5]=b?o(b,g,e[6]):g,t[6]=b?i(t[5],a):e[6]),(g=e[7])&&(t[7]=g),h&f&&(t[8]=null==t[8]?e[8]:d(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=v,t}},function(t,e,n){var r=n(401),o=1/0,i=1.7976931348623157e308;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(17),o=n(45),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?i:+t}},function(t,e,n){var r=n(95),o=4;t.exports=function(t){return r(t,o)}},function(t,e,n){var r=n(112),o=8;function i(t,e,n){var a=r(t,o,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return a.placeholder=i.placeholder,a}i.placeholder={},t.exports=i},function(t,e,n){var r=n(19),o=n(12),i=n(46),a="[object DOMException]",s="[object Error]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==s||e==a||"string"==typeof t.message&&"string"==typeof t.name&&!i(t)}},function(t,e,n){var r=n(44),o=n(12),i="[object WeakMap]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e,n){var r=n(95),o=n(185),i=1;t.exports=function(t){return o("function"==typeof t?t:r(t,i))}},function(t,e,n){var r=n(408),o=n(409),i=n(187);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(64),o=n(110),i=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var f=n[u];if(l&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<c;){var p=(f=n[u])[0],d=t[p],h=f[1];if(l&&f[2]){if(void 0===d&&!(p in t))return!1}else{var v=new r;if(s)var m=s(d,h,p,t,e,v);if(!(void 0===m?o(h,d,i|a,s,v):m))return!1}}return!0}},function(t,e,n){var r=n(186),o=n(8);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(110),o=n(411),i=n(412),a=n(105),s=n(186),u=n(187),c=n(35),l=1,f=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,l|f)}}},function(t,e,n){var r=n(106);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(413),o=n(414);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(71),o=n(59),i=n(7),a=n(61),s=n(92),u=n(35);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,f=!1;++c<l;){var p=u(e[c]);if(!(f=null!=t&&n(t,p)))break;t=t[p]}return f||++c!=l?f:!!(l=null==t?0:t.length)&&s(l)&&a(p,l)&&(i(t)||o(t))}},function(t,e,n){var r=n(416),o=n(417),i=n(105),a=n(35);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(106);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(112),o=n(107)(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=o},function(t,e,n){var r=n(63),o=n(43),i=n(7),a=n(45),s=n(166),u=n(35),c=n(167);t.exports=function(t){return i(t)?r(t,u):a(t)?[t]:o(s(c(t)))}},function(t,e,n){var r=n(421)(!0);t.exports=r},function(t,e,n){var r=n(116),o=n(107),i=n(115),a=n(180),s=n(7),u=n(179),c="Expected a function",l=8,f=32,p=128,d=256;t.exports=function(t){return o(function(e){var n=e.length,o=n,h=r.prototype.thru;for(t&&e.reverse();o--;){var v=e[o];if("function"!=typeof v)throw new TypeError(c);if(h&&!m&&"wrapper"==a(v))var m=new r([],!0)}for(o=m?o:n;++o<n;){v=e[o];var y=a(v),g="wrapper"==y?i(v):void 0;m=g&&u(g[0])&&g[1]==(p|l|f|d)&&!g[4].length&&1==g[9]?m[a(g[0])].apply(m,g[3]):1==v.length&&u(v)?m[y]():m.thru(v)}return function(){var t=arguments,r=t[0];if(m&&1==t.length&&s(r))return m.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}})}},function(t,e,n){var r=n(172)("filter",n(188));r.placeholder=n(111),t.exports=r},function(t,e,n){var r=n(424);t.exports=function(t,e){var n=[];return r(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}},function(t,e,n){var r=n(425),o=n(427)(r);t.exports=o},function(t,e,n){var r=n(189),o=n(8);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}},function(t,e,n){var r=n(33);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,s=Object(n);(e?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(t,e){t.exports=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}},function(t,e,n){var r=n(99),o=n(28),i=n(190),a=n(33),s=n(62),u=n(8),c=Object.prototype.hasOwnProperty,l=i(function(t,e){if(s(e)||a(e))o(e,u(e),t);else for(var n in e)c.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){var r=n(47),o=n(168),i=n(109);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(42),o=n(33),i=n(61),a=n(17);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?o(n)&&i(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},function(t,e,n){var r=n(64),o=n(192),i=n(189),a=n(433),s=n(17),u=n(69),c=n(193);t.exports=function t(e,n,l,f,p){e!==n&&i(n,function(i,u){if(s(i))p||(p=new r),a(e,n,u,l,t,f,p);else{var d=f?f(c(e,u),i,u+"",e,n,p):void 0;void 0===d&&(d=i),o(e,u,d)}},u)}},function(t,e,n){var r=n(192),o=n(155),i=n(164),a=n(43),s=n(165),u=n(59),c=n(7),l=n(434),f=n(60),p=n(34),d=n(17),h=n(46),v=n(91),m=n(193),y=n(435);t.exports=function(t,e,n,g,b,_,x){var w=m(t,n),O=m(e,n),E=x.get(O);if(E)r(t,n,E);else{var S=_?_(w,O,n+"",t,e,x):void 0,j=void 0===S;if(j){var C=c(O),A=!C&&f(O),P=!C&&!A&&v(O);S=O,C||A||P?c(w)?S=w:l(w)?S=a(w):A?(j=!1,S=o(O,!0)):P?(j=!1,S=i(O,!0)):S=[]:h(O)||u(O)?(S=w,u(w)?S=y(w):(!d(w)||g&&p(w))&&(S=s(O))):j=!1}j&&(x.set(O,S),b(S,O,g,_,x),x.delete(O)),r(t,n,S)}}},function(t,e,n){var r=n(33),o=n(12);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(28),o=n(69);t.exports=function(t){return r(t,o(t))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o,i,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(e.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(t,e){var n="Expected a function";t.exports=function(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(t,e,n){var r=n(19),o=n(7),i=n(12),a="[object String]";t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&r(t)==a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t&&t.__esModule?t:{default:t}}(n(197));n(118);var o={};e.default=function(t){return function(e,n){var i=n||o;t.memoize=t.memoize||new WeakMap;var a=void 0;t.memoize.has(i)?a=t.memoize.get(i):(a={},t.memoize.set(i,a));var s=(0,r.default)(e).join(" ");return s in a?a[s]:a[s]=t(e,n)}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(34)),o=p(n(47)),i=p(n(36)),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(0),c=p(n(441)),l=p(n(171)),f=n(118);function p(t){return t&&t.__esModule?t:{default:t}}function d(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}e.default=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return function(p){var h=function(c){function h(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e,n)),i=e.style,a=e.className,s=e.classNames,u=d(e,["style","className","classNames"]);return o.substyle=(0,l.default)({style:i,className:a,classNames:s},o.context[f.PROPS_DECORATOR_CONTEXT_NAME]),o.setWrappedInstance=o.setWrappedInstance.bind(o),(0,r.default)(t)&&(o.defaultStyle=t(u)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(h,u.Component),s(h,[{key:"componentWillReceiveProps",value:function(e){var o=e.style,i=e.className,a=e.classNames,s=d(e,["style","className","classNames"]),u=this.props,c=u.style,p=u.className,h=u.classNames,v=d(u,["style","className","classNames"]);o===c&&i===p&&a===h||(this.substyle=(0,l.default)({style:o,className:i,classNames:a},this.context[f.PROPS_DECORATOR_CONTEXT_NAME])),(0,r.default)(t)&&n(s,v)&&(this.defaultStyle=t(s))}},{key:"render",value:function(){var n=(0,i.default)(this.props,["style","className","classNames"]),r=this.getWrappedComponent(),o=e&&e(n);return(0,u.createElement)(r,a({style:this.substyle(o,this.defaultStyle||t),ref:function(t){return!t.prototype.render}(r)?void 0:this.setWrappedInstance},n))}},{key:"getWrappedComponent",value:function(){var t=this.context[f.ENHANCER_CONTEXT_NAME],e=void 0===t?o.default:t;return this.memoizedEnhance!==e&&(this.memoizedEnhance=e,this.enhancedWrappedComponent=e(p),this.enhancedWrappedComponent.propTypes&&(this.enhancedWrappedComponent.propTypes=a({},this.enhancedWrappedComponent.propTypes,{style:f.PropTypes.style}))),this.enhancedWrappedComponent||p}},{key:"getWrappedInstance",value:function(){return this.wrappedInstance}},{key:"setWrappedInstance",value:function(t){this.wrappedInstance=t}}]),h}(),v=p.displayName||p.name;return h.displayName="withDefaultStyle("+v+")",h.propTypes=a({},p.propTypes,f.PropTypes),h.contextTypes=f.ContextTypes,h.WrappedComponent=p,(0,c.default)(h,p)}},t.exports=e.default},function(t,e,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;t.exports=function(t,e,n){if("string"!=typeof e){var a=Object.getOwnPropertyNames(e);i&&(a=a.concat(Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||o[a[s]]||n&&n[a[s]]))try{t[a[s]]=e[a[s]]}catch(t){}}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(0)),i=function(t){return t&&t.__esModule?t:{default:t}}(n(1)),a=n(118);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),r(e,[{key:"getChildContext",value:function(){var t;return s(t={},a.ENHANCER_CONTEXT_NAME,this.props.enhancer),s(t,a.PROPS_DECORATOR_CONTEXT_NAME,this.props.propsDecorator),t}},{key:"render",value:function(){return o.Children.only(this.props.children)}}]),e}();e.default=u,u.propTypes={enhancer:i.default.func,propsDecorator:i.default.func,children:i.default.element.isRequired},u.childContextTypes=a.ContextTypes,u.displayName="EnhancerProvider",t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(23)),o=h(n(24)),i=h(n(2)),a=h(n(3)),s=h(n(4)),u=h(n(5)),c=h(n(6)),l=n(0),f=h(l),p=h(n(1)),d=h(n(143));function h(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(){var t,n,s,c,l=this;(0,a.default)(this,e);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return n=s=(0,u.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(p))),s.onDeleteActivity=(0,o.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this discussion?")){t.next=10;break}return t.prev=1,t.next=4,s.props.onDeleteActivity();case 4:s.props.onCloseDiscussion({forceUpdate:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert("Can't delete this discussion:\n"+t.t0.message);case 10:case"end":return t.stop()}},t,l,[[1,7]])})),s.onChangeCategory=function(){var t=(0,o.default)(r.default.mark(function t(e){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to change the category of this discussion?")){t.next=10;break}return t.prev=1,t.next=4,s.props.onChangeCategory(e.target.value);case 4:s.props.onCloseDiscussion({forceUpdate:!0}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),alert("Can't change the category of this discussion:\n"+t.t0.message);case 10:case"end":return t.stop()}},t,l,[[1,7]])}));return function(e){return t.apply(this,arguments)}}(),s.flattenCategories=function(t){if(Array.isArray(t))return t.reduce(function(t,e){return t.concat(s.flattenCategories(e))},[]);var e={categoryID:t.categoryID,name:t.name,depth:t.depth},n=t.children;return n&&n.length?s.flattenCategories([e].concat(s.flattenCategories(n))):e},c=n,(0,u.default)(s,c)}return(0,c.default)(e,t),(0,s.default)(e,[{key:"render",value:function(){var t=this.props,e=t.onDeleteActivity,n=t.onChangeCategory,r=t.categories;if(!e&&!n)return null;var o=f.default.createElement(l.Fragment,null,n&&r&&f.default.createElement("li",{role:"presentation",className:"no-icon"},f.default.createElement("div",{className:"status__move"},f.default.createElement("label",null,"Move Status"),f.default.createElement("select",{name:"categories",onChange:this.onChangeCategory,defaultValue:this.props.discussionCategoryID},this.flattenCategories(r).map(function(t){var e=t.categoryID,n=t.name,r=t.depth;return f.default.createElement("option",{value:e,key:e},"- ".repeat(r-1)+n)})))),e&&f.default.createElement("li",{role:"presentation",className:"no-icon"},f.default.createElement("a",{href:"javascript:;",role:"menuitem",className:"dropdown-menu-link dropdown-menu-link-edit",onClick:this.onDeleteActivity},"Delete Status")));return f.default.createElement(d.default,{modToolsElement:o})}}]),e}(l.PureComponent);v.propTypes={discussionCategoryID:p.default.number.isRequired,onDeleteActivity:p.default.func,onChangeCategory:p.default.func,onCloseDiscussion:p.default.func.isRequired,categories:p.default.arrayOf(p.default.shape({categoryID:p.default.number.isRequired,name:p.default.string.isRequired,children:p.default.array}))},e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=y(n(23)),o=y(n(24)),i=y(n(2)),a=y(n(3)),s=y(n(4)),u=y(n(5)),c=y(n(6)),l=n(0),f=y(l),p=y(n(1)),d=y(n(147)),h=n(16),v=y(n(445)),m=n(56);function y(t){return t&&t.__esModule?t:{default:t}}var g=function(t){function e(){var t,n,s,c,l=this;(0,a.default)(this,e);for(var f=arguments.length,p=Array(f),d=0;d<f;d++)p[d]=arguments[d];return n=s=(0,u.default)(this,(t=e.__proto__||(0,i.default)(e)).call.apply(t,[this].concat(p))),s.state={userProfile:null},s.componentWillMount=(0,o.default)(r.default.mark(function t(){var e;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.props.hasAvatar){t.next=5;break}return t.next=3,(0,h.getProfile)();case 3:e=t.sent,s.setState({userProfile:e});case 5:case"end":return t.stop()}},t,l)})),s.onSubmit=function(t){(0,m.postActivity)({text:t,apiVersion:1}).then(s.props.onPostActivity).catch(console.error)},s.tagSearch=function(t,e){t&&(0,h.tagSearch)(t).then(function(t){return t.map(function(t){var e=t.id;return{display:t.name,id:e}})}).then(e)},c=n,(0,u.default)(s,c)}return(0,c.default)(e,t),(0,s.default)(e,[{key:"render",value:function(){return f.default.createElement(v.default,{onSubmit:this.onSubmit,userProfile:this.state.userProfile,tagSearch:(0,d.default)(this.tagSearch,200)})}}]),e}(l.Component);g.propTypes={onPostActivity:p.default.func,hasAvatar:p.default.bool},e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=p(n(2)),o=p(n(3)),i=p(n(4)),a=p(n(5)),s=p(n(6)),u=n(0),c=p(u),l=p(n(1)),f=n(200);function p(t){return t&&t.__esModule?t:{default:t}}n(446);var d=window.tomodomo.config.ACTIVITY_POST_MAXLEN,h=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.state={text:""},i.onChange=function(t){i.setState({text:t.target.value})},i.onSubmit=function(t){t.preventDefault(),i.props.onSubmit(i.state.text),i.setState({text:""})},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this.props,e=t.userProfile,n=t.tagSearch,r=d-this.state.text.length;return c.default.createElement("div",{className:"FormWrapper FormWrapper-Condensed td-status-form"},e&&c.default.createElement("img",{src:e.photoUrl,alt:e.name,className:"ProfilePhoto td-status-form__photo"}),c.default.createElement("form",{className:"Activity td-status-form__form",onSubmit:this.onSubmit},c.default.createElement(f.MentionsInput,{className:"mentions",wrap:1,rows:3,cols:5,placeholder:"What's on your mind?",maxLength:d||void 0,onChange:this.onChange,value:this.state.text,markup:'@"__display__"',displayTransform:function(t,e,n){return"@"+e}},n&&c.default.createElement(f.Mention,{className:"user-mention",trigger:"@",onAdd:function(){for(var t,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=console).log.apply(t,["added a new mention"].concat(n))},data:n,appendSpaceOnAdd:!0,renderSuggestion:function(t,e,n){return c.default.createElement("div",{className:"user-tag"},n)}})),c.default.createElement("div",{className:"td-status-form__footer"},c.default.createElement("div",{className:"td-status-form__count"},!!d&&r!==d&&c.default.createElement("span",null,r," characters left")),c.default.createElement("div",{className:"td-status-form__actions"},c.default.createElement("input",{type:"submit",id:"Form_Share",name:"Share",value:"Submit",className:"Button Primary td-status-form__submit",disabled:!this.state.text.length})))))}}]),e}(u.Component);h.propTypes={onSubmit:l.default.func,userProfile:l.default.shape({name:l.default.string.isRequired,photoUrl:l.default.string.isRequired}),tagSearch:l.default.func},e.default=h},function(t,e,n){var r=n(447);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(449)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(448)(!1)).push([t.i,".td-status-form .mentions {\n  font-family: Arial, sans-serif;\n  border: 0; }\n  .td-status-form .mentions .mentions__highlighter,\n  .td-status-form .mentions textarea {\n    padding: 0.8rem 1rem !important;\n    border-width: 1px !important;\n    border-style: solid !important;\n    outline: none !important;\n    font-size: 15px !important;\n    line-height: 1.4 !important;\n    height: auto !important;\n    min-height: 100px !important; }\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,u=[],c=n(450);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(m(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(m(o.parts[a],e));r[o.id]={id:o.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function p(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function h(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(e,t.attrs),p(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var u=s++;n=a||(a=h(e)),r=g.bind(null,n,u,!1),o=g.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),p(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){d(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){d(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return l(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}t&&l(f(t,e),e);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function g(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(452));e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=m(n(57)),o=m(n(2)),i=m(n(3)),a=m(n(4)),s=m(n(5)),u=m(n(6)),c=n(0),l=m(c),f=m(n(199)),p=m(n(134)),d=m(n(453)),h=m(n(144)),v=n(198);function m(t){return t&&t.__esModule?t:{default:t}}var y=window.tomodomo.config,g=y.LIMIT_ACTIVITY,b=y.ACTIVITY_PATH,_=function(t){function e(){var t,n,a,u;(0,i.default)(this,e);for(var c=arguments.length,l=Array(c),f=0;f<c;f++)l[f]=arguments[f];return n=a=(0,s.default)(this,(t=e.__proto__||(0,o.default)(e)).call.apply(t,[this].concat(l))),a.state={discussionID:null,changedAt:new Date},a.onPostActivity=function(){a.setState({changedAt:new Date})},a.onOpenDiscussion=function(t,e){a.setState({discussionID:t}),window.history.pushState({discussionID:t,isHomePage:!0},"",e)},a.onCloseDiscussion=function(t){var e=t.forceUpdate,n=void 0!==e&&e,o=(0,r.default)({discussionID:null},n?{changedAt:new Date}:{});a.setState(o),window.history.pushState((0,r.default)({},o,{isHomePage:!0}),"",a.initialHref)},u=n,(0,s.default)(a,u)}return(0,u.default)(e,t),(0,a.default)(e,[{key:"componentWillMount",value:function(){var t=this;this.initialHref=window.location.href,(0,v.addHistoryObserver)(function(e){t.setState({discussionID:e?e.discussionID:null}),e.isHomePage||window.location.reload()})}},{key:"render",value:function(){var t=this.state.discussionID;return l.default.createElement("div",{className:"td-status__widget"},l.default.createElement(f.default,{onPostActivity:this.onPostActivity,hasAvatar:!0}),l.default.createElement(p.default,{timestamp:this.state.changedAt.getTime(),limit:g,onOpenDiscussion:this.onOpenDiscussion},d.default),l.default.createElement(h.default,{discussionID:t,onCloseDiscussion:this.onCloseDiscussion}),l.default.createElement("a",{href:b,className:"td-status__more"},"View more"))}}]),e}(c.Component);e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=h(n(2)),o=h(n(3)),i=h(n(4)),a=h(n(5)),s=h(n(6)),u=n(0),c=h(u),l=h(n(1)),f=h(n(58)),p=n(16),d=h(n(141));function h(t){return t&&t.__esModule?t:{default:t}}var v=window.tomodomo.config.LIMIT_ACTIVITY_COMMENTS,m=function(t){function e(){var t,n,i,s;(0,o.default)(this,e);for(var u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];return n=i=(0,a.default)(this,(t=e.__proto__||(0,r.default)(e)).call.apply(t,[this].concat(c))),i.onOpenDiscussion=function(t){return function(e){e.preventDefault&&e.preventDefault(),i.props.onOpenDiscussion(t.discussionID,t.url)}},s=n,(0,a.default)(i,s)}return(0,s.default)(e,t),(0,i.default)(e,[{key:"render",value:function(){var t=this,e=this.props.discussions;return e.length?c.default.createElement("ul",{className:"td-status__list"},e.map(function(e){return c.default.createElement("li",{className:"td-status__item",key:e.discussionID},c.default.createElement("div",{className:"td-status__author"},c.default.createElement("img",{src:e.insertUser.photoUrl,className:"ProfilePhoto td-status__photo",alt:e.insertUser.name}),c.default.createElement("a",{href:(0,p.getUserUrl)(e.insertUser.name),className:"td-status__username"},e.insertUser.name)," ",c.default.createElement("span",{className:"td-status__separator"},"·")," ",c.default.createElement("a",{href:e.url,onClick:t.onOpenDiscussion(e),className:"td-status__time"},c.default.createElement("time",null,(0,f.default)(e.dateInserted)," ago"))),c.default.createElement("div",{className:"td-status__content"},c.default.createElement("div",{className:"td-status__text"},(0,p.stripHtmlTags)(e.body)),c.default.createElement(d.default,{discussionID:e.discussionID,countComments:e.countComments,limitCount:v,onClick:t.onOpenDiscussion(e)})))})):c.default.createElement("div",{className:"td-status__empty"},"Nothing new")}}]),e}(u.PureComponent);m.displayName="ActivityList",m.propTypes={discussions:l.default.arrayOf(l.default.shape({discussionID:l.default.number.isRequired,dateInserted:l.default.string.isRequired,lastPost:l.default.shape({dateInserted:l.default.string}),body:l.default.string.isRequired,url:l.default.string.isRequired,categoryID:l.default.number,countComments:l.default.number,insertUser:l.default.shape({userID:l.default.number.isRequired,name:l.default.string.isRequired,photoUrl:l.default.string.isRequired})})).isRequired,onOpenDiscussion:l.default.func},e.default=m}])});